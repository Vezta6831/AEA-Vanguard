
[core]
#availableInDemo:         true
#displayRadius:           25
buildSpeed:               0.001
class:                    CustomUnitMetadata
copyFrom:                 ROOT:data\unitsystem\_shieldguard.template, ROOT:/DATA/total/debuffs.template
displayDescription:       - Can intercept nukes from a Nuke Launcher\n- 1500 radius\n- Can store up to 900 anti-nukes 
displayText:              Anti-Nuke Launcher
exit_x:                   0
exit_y:                   -1
isBio:                    false
isBuilding:               true
isLockedIfGameModeNoNuke: true
mass:                     9000
maxHp:                    2800
name:                     antiNukeLauncherBGC
price:                    45000, uranium=1000
radius:                   35
tags:                     building
techLevel:                1

# Typo in Original
#displayLocaleKey:   AntiNukeLaucher
#overrideAndReplace: AntiNukeLaucher

#footprint used for collisions with units (left, up, right, down)
footprint: -1, -1, 1, 1

#used for placement, and placement of other buildings
constructionFootprint: -1, -1, 1, 1


[action_buildAntiNuke]
addResources:  ammo=1
ai_isDisabled: if self.ammo(greaterThan=3)
buildSpeed:    48.8s
description:-  Automatically targets and intercepts Nuclear missles\n- Max of 900 in storage
displayType:   NONE
iconImage:     SHARED:icon_build.png
isActive:if    self.ammoIncludingQueued(lessThan=900)
pos:           0.2
price:         11000
text:          i:gui.actions.buildAntiNuke


[action_showAntiNukeCount]
#infoOnly:                 true
addResources:              ammo=1
buildSpeed:                0s
description:               i:gui.actions.antiNukeCount.description
displayRemainingStockpile: true
displayType:               infoOnlyStockpile
iconImage:                 SHARED:icon_nuke_stockpile.png
isActive:                  false
isVisible:                 if self.ammo(greaterThan=0)
pos:                       0.1
price:                     ammo=1
text:                      i:gui.actions.antiNukeCount


[action_showAntiNukeCountEmpty]
#displayRemainingStockpile: true
#infoOnly:                  true
buildSpeed:                 0s
description:                i:gui.actions.antiNukeCount.descriptionEmpty
displayType:                infoOnlyStockpile
iconImage:                  SHARED:icon_nuke_stockpile.png
isActive:                   false
isGuiBlinking:              true
isVisible:                  if self.ammo(lessThan=1)
pos:                        0.1
text:                       i:gui.actions.antiNukeCountEmpty


[graphics]
#image_back:          antinuke_launcher_back.png
#scaleImagesTo:       20
#scaleTurretImagesTo: 9
image_shadow:         NONE
image_wreak:          antinuke_launcher_bgc_dead.png
image:                antinuke_launcher_bgc.png
shadowOffsetX:        1
shadowOffsetY:        1
total_frames:         1


[attack]
canAttack:                false
canAttackFlyingUnits:     false
canAttackLandUnits:       true
canAttackUnderwaterUnits: false
maxAttackRange:           9999


[movement]
maxTurnSpeed:          0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01
movementType:          NONE
moveSpeed:             0
turnAcceleration:      0.1


[decal_noAmmoIcon]
@define timer_2s:           ((self.timeAlive() % 2) / 2)
alpha:                      0.3+cos( ${timer_2s} * 360) * 0.2
alwaysStartDirAtZero:       true
image:                      SHARED:icon_nuke_stockpile.png
imageScale:                 1
isVisible:                  if self.ammo==0
layer:                      beforeUI
onlyOnNonPreview:           true
onlyPlayersWithUnitControl: true
onlyWhileActive:            true
onlyWhileAlive:             true
onlyWithZoomLevelOrMore:    0.7
teamColors:                 false


[decal_noAmmoIcon2]
@copyFromSection: decal_noAmmoIcon
image:            SHARED:no_icon.png
imageScale:       0.5


# Anti-Nuke Turret
[turret_silo]
#onShoot_playAnimation:                               fireNuke
#shoot_flame:                                         custom:nukeLaunch
idleDir:                                              0
interceptProjectiles_andOverHeight:                   50
interceptProjectiles_andTargetingGroundUnderDistance: 1500
interceptProjectiles_andUnderDistance:                2200
interceptProjectiles_withTags:                        nuke
invisible:                                            true
projectile:                                           antiNukeProjectile
resourceUsage:                                        ammo=1
shoot_flame:                                          shockwave, smoke
shoot_light:                                          #FFEECCCC
shoot_sound_vol:                                      0.15
shoot_sound:                                          nuke_launch
size:                                                 1
turnSpeed:                                            40
x:                                                    0
y:                                                    10


# Anti-Nuke
[projectile_antiNukeProjectile]
#shadowFrame:1
alwaysVisibleInFog:         true
areaDamage:                 100
areaExpandTime:             75
areaRadius:                 60
ballistic_delaymove_height: 80
ballistic_height:           110
ballistic:                  true
deflectionPower:            -1
directDamage:               600
drawType:                   0
frame:                      10
largeHitEffect:             true
life:                       99999
lightColor:                 #FFEEEE00
lightSize:                  1
speed:                      2
targetGround:               true
targetSpeed:                12
targetSpeedAcceleration:    0.1
trailEffect:                true


[effect_nukeLaunch]
#image: shockwave_large.png


[ai]
ai_upgradePriority:      0.4
buildPriority:           0.01
maxEachBase:             1
maxGlobal:               2
noneGlobalExtraPriority: 0.1
noneInBaseExtraPriority: 0.04

