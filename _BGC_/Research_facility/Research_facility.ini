
[core]
@global price:                   1500
#generation_credits:             3
#generation_delay:               40
buildingSelectionOffset:         -8
buildingToFootprintOffsetX:      3
buildingToFootprintOffsetY:      5
buildSpeed:                      0.0005
class:                           CustomUnitMetadata
copyFrom:                        ROOT:data\unitsystem\_shieldguard.template, ROOT:/DATA/total/debuffs.template
displayDescription:              -Detects Cloaked Units\n- Can research improvements\n- Provide visibility\n- Unlock stuff
displayText:                     Research Facility
exit_x:                          -36
exit_y:                          36
fogOfWarSightRange:              35
fogOfWarSightRangeWhileNotBuilt: 10
isBio:                           false
isBuilding:                      true
mass:                            9000
maxHp:                           1800
name:                            BGC_ResearchFacility
numBitsOnDeath:                  12
price:                           ${price}
radius:                          50
softCollisionOnAll:              50
tags:                            building, STR, BGC_ResearchFacility, detector
techLevel:                       1

#footprint used for collisions with units (left, up, right, down)
footprint: -2, -1, 1, 1

#used for placement, and placement of other buildings
constructionFootprint: -2, -1, 1, 1


[hiddenAction_aiModuleEnable]
alsoTriggerAction:  test, aiModuleEnable2
autoTriggerOnEvent: created
requireConditional: if self.isControlledByAI


[hiddenAction_aiModuleEnable2]
alsoTriggerAction: Upgrade_moduleII
buildSpeed:        60s


[hiddenAction_refund]
addResources:        ${price}
autoTriggerOnEvent:  created
deleteSelf:          true
requireConditional:  if numberOfUnitsInTeam(greaterThan=1, withTag='BGC_ResearchFacility', incompleteBuildings=true)
showMessageToPlayer: You have built the maximum amount of Research Facility


[hiddenAction_smoke]
autoTrigger:  true
spawnEffects: CUSTOM:smoke*2


[hiddenAction_Ondeath]
autoTriggerOnEvent:             destroyed
fireTurretXAtGround_withOffset: 0,250
fireTurretXAtGround:            Deatch
requireConditional:             if self.globalTeamTags(includes='uraniumConverter') and numberOfUnitsInTeam(withTag='BGC_ResearchFacility', incompleteBuildings=true)<1


[effect_smoke]
#physics:             true
alpha:                0.6
atmospheric:          true
attachedToUnit:       false
drawUnderUnits:       false
hSpeed:               0.1
image:                smoke.png
life:                 300
priority:             low
scaleFrom:            0.2
scaleTo:              2.5
xOffsetRelative:      -10
xSpeedRelativeRandom: 0.1
yOffsetRelative:      50
ySpeedRelativeRandom: 0.1


[action_DMrSam]
@copyFromSection:        action_test
@define                  globaltag: EliteMeleeSamurai
@define                  price: 2100
buildSpeed:              42s
description:             [Unlock Mini Samurai] \n
descriptionAddFromUnit:  miniSamurai
showQuickWarLogToPlayer: Research: Mini Samurai complete, All Mech Gantry are now authorized to Build Mini Samurai
text:                    Mini Samurai


[action_test]
@define                  globaltag: module_I
@define                  price: 2000
#iconImage:              ROOT:data\icons\Robo.png
addGlobalTeamTags:       ${globaltag}
ai_isHighPriority:       true
allowMultipleInQueue:    false
buildSpeed:              60s
description:             Unlock module: \n- Red Shell\n- Repair Pulse \n- Turtle Core\n- Energy Charger\n- Laser Defence\n- Demolition Charge
displayType:             upgrade
isActive:                if not self.globalTeamTags(includes='${globaltag}') 
isGuiBlinking:           if not self.globalTeamTags(includes='${globaltag}') and self.hasResources(credits=${price}) 
isLockedAlt:             if not numberOfUnitsInTeam(greaterThan=0, withTag='unitResource')
isLockedAltMessage:      Link disconnected!, Error code
isVisible:               if not self.globalTeamTags(includes='${globaltag}')
pos:                     1
price:                   ${price}
showQuickWarLogToPlayer: Research: Module I complete, You are now authorized to install more modules
text:                    Module I


[action_Upgrade_moduleII]
@copyFromSection:        action_test
@define                  globaltag: module_II
@define                  price: 5000
buildSpeed:              120s
description:             Unlock module: \n- precision beam \n- AA beam particle \n- Nuke Payload
isActive:                if self.globalTeamTags(includes='module_I') 
isVisible:               if self.globalTeamTags(includes='module_I') and not self.globalTeamTags(includes='${globaltag}')
showQuickWarLogToPlayer: Research:  Module II complete, You are now authorized to install better modules
text:                    Module II


[action_ReparatorBuffer]
@copyFromSection:        action_test
@define                  globaltag: reparatorBuffer
@define                  price: 2250
buildSpeed:              60s
description:             Allow reparator mech buff nearby T1 mech within 250 range \n- Restore 20hp per second\nT1 Mechs\n- Basic Mech mkII\n- Mini MLRS\n- Mini VLS\n- Mini Bertha\n- Mini Samurai\n- Mini Napalm\n- AEA T1 mechs?!
showQuickWarLogToPlayer: Research: Reparator Buffer complete, Reparator buff nearby T1 mechs authorized!
text:                    Reparator Buffer


[action_EnhancedScope]
@copyFromSection:        action_test
@define                  globaltag: enhancedScope
@define                  price: 3000
buildSpeed:              40s
description:             Gives snipah turret more vision and +10 range\nAuthorized to shut down air units\n--------------\n-Air attack do AoE\nT1-T2 > 100 AoE
showQuickWarLogToPlayer: Research: Enhanced Scope Complete, Snipah turret enhanced!
text:                    Enhanced Scope


[action_Upgrade_GateWayDef]
@copyFromSection:        action_test
@define                  globaltag: gatewayDef
@define                  price: 2000
buildSpeed:              25s
description:             Allows Gateway to fire a thunder strike\nAttack rate: 1.25s, Damage: 150, AoE: 60\n-Range: 230  \n\n Gains 5000 additional shields.
showQuickWarLogToPlayer: Research: Gateway Defense Complete!
text:                    Gateway Defense


[action_Upgrade_DecoyStructure]
@copyFromSection:        action_test
@define                  globaltag: decoyStructure
@define                  price: 3000, uranium=10
buildSpeed:              60s
description:             Allows Builder Mech to build a decoy structures
showQuickWarLogToPlayer: Research: Gateway Defense Complete!
text:                    Decoy Structure


[action_Upgrade_striderModule]
@copyFromSection:        action_test
@define                  globaltag: striderModule
@define                  price: 70000, uranium=1000
buildSpeed:              240s
description:             Allows Strider to install modules
isActive:                if not self.globalTeamTags(includes="striderModule")
isVisible:               if not self.globalTeamTags(includes="striderModule")
showQuickWarLogToPlayer: Research: Strider Module complete
text:                    Strider Module


[graphics]
#scaleImagesTo:       20
#scaleTurretImagesTo: 9
image_turret:         NONE
image_wreak:          basewreak.png
image:                base.png
imageScale:           0.8
shadowOffsetX:        0
shadowOffsetY:        0
teamColorsOnTurret:   true
total_frames:         1


[attack]
canAttack:                false
canAttackFlyingUnits:     false
canAttackLandUnits:       true
canAttackUnderwaterUnits: false
maxAttackRange:           9999
shootDelay:               20
turretSize:               0
turretTurnSpeed:          6


# Anti-Nuke Turret
[turret_silo]
#image:                                               ROOT:data\dotGuide.png
#onShoot_playAnimation:                               fireNuke
#shoot_flame:                                         custom:nukeLaunch
idleDir:                                              0
interceptProjectiles_andOverHeight:                   50
interceptProjectiles_andTargetingGroundUnderDistance: 2000
interceptProjectiles_andUnderDistance:                2200
interceptProjectiles_withTags:                        nuke
invisible:                                            true
projectile:                                           antiNukeProjectile
resourceUsage:                                        ammo=1
shoot_flame:shockwave,                                smoke
shoot_light:                                          #FFEECCCC
shoot_sound_vol:                                      0.15
shoot_sound:                                          nuke_launch
size:                                                 1
turnSpeed:                                            40
x:                                                    17
y:                                                    5


# Dummy
[turret_Deatch]
canShoot:        false
projectile:      1
shoot_flame:     NONE
shoot_sound_vol: 0
shoot_sound:     NONE
size:            0
x:               0
y:               0


# Anti-Nuke
[projectile_antiNukeProjectile]
#shadowFrame:               1
alwaysVisibleInFog:         true
areaDamage:                 100
areaExpandTime:             75
areaRadius:                 60
ballistic_delaymove_height: 80
ballistic_height:           110
ballistic:                  true
deflectionPower:            -1
directDamage:               600
drawType:                   0
frame:                      10
largeHitEffect:             true
life:                       99999
lightColor:                 #FFEEEE00
lightSize:                  1
speed:                      3
targetGround:               true
targetSpeed:                15
targetSpeedAcceleration:    0.1
trailEffect:                true


# Nuke
[projectile_1]
alwaysVisibleInFog:          true
areaDamage:                  4200
areaExpandTime:              75
areaHitAirAndLandAtSameTime: true
areaRadius:                  250
deflectionPower:             -1
directDamage:                120
drawType:                    1
explodeOnEndOfLife:          true
frame:                       0
friendlyFire:                true
largeHitEffect:              true
life:                        0
lightColor:                  #FFEEEE00
lightSize:                   1
nukeWeapon:                  true
shadowFrame:                 1
shouldRevealFog:             true
speed:                       0.1
tags:                        nuke
targetGround:                true
targetSpeed:                 2.7
targetSpeedAcceleration:     0.02


# Dummy
[projectile_Detonate]
areaDamage:         99999
areaRadius:         10
deflectionPower:    -1
drawSize:           0
explodeOnEndOfLife: true
friendlyFire:       true
life:               0
speed:              0


[movement]
maxTurnSpeed:          0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01
movementType:          NONE
moveSpeed:             0
turnAcceleration:      0.1


[ai]
ai_upgradePriority:      0.7
buildPriority:           0.10
maxEachBase:             1
maxGlobal:               1
noneGlobalExtraPriority: 0.8

