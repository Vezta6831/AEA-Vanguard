
[core]
copyFrom:ROOT:statusEffect.template
name: buildertzp
class: CustomUnitMetadata
price: Gas=300
maxHp: 450

mass: 4000

displayText: TZP Worker
displayDescription: Converts itself into Starcraft Starter Structures\n-NOTE, the worker should always be facing NORTH when it is completed, otherwise an ugly graphical glitch will occur.
displayText_ru: Танк-Строитель


techLevel: 1
buildSpeed: 27.9s
availableInDemo: false

radius: 17
displayRadius: 18
isBio: false


canReclaimResources: true
canRepairBuildings: true
canRepairUnits : false

nanoRange: 95
nanoBuildSpeed: 2.0
nanoRepairSpeed: 0.45

tags: Builder, mcv, mech, unit

[hiddenAction_deleteself]
requireConditional: if numberOfUnitsInTeam(greaterThan=0, withTag='picker')
deleteSelf: true
autoTriggerOnEvent: created

[hiddenAction_Ai_1stPlacementRule]
autoTriggerOnEvent: created
requireConditional: if self.isControlledByAI() and self.resource.t_seconds_a < (3) 
addWaypoint_target_fromReference: self.globalSearchForFirstUnit(withTag='commandCenter', relation='own').getOffsetRelative(x=-60)
addWaypoint_type: build
addWaypoint_unitType: ekTankFactory_T1

[hiddenAction_AiDefendmeyouRetard]
autoTriggerOnEvent:newMessage(withTag='AiDefendPriority')
requireConditional: if self.isControlledByAI()
#clearAllWaypoints: true
addWaypoint_target_fromReference: createMarker(x=eventSource.x, y=eventSource.y, dir=direction(eventSource.x, eventSource.y, nearestUnit(relation='enemy').x, nearestUnit(relation='enemy').y)).getOffsetRelative(y=40)
addWaypoint_unitType: t1gunLand
showMessageToPlayer: AAAA


addWaypoint_type: build

[canBuild_Reclaim]
name: reclaim
pos:  -1



[action_Convert_Nexus]
convertTo: Nexus
price: Minerals=0
text: Nexus
description: Converts Worker into Protoss Nexus
descriptionAddUnitStats: ${section.convertTo}
pos: 1

[action_Convert_Hatchery]
convertTo: Hatchery
price: Minerals=0
text: Hatchery
description: Converts Worker into Zerg Hatchery
descriptionAddUnitStats: ${section.convertTo}
pos: 2


[action_Convert_CommandCenter]
convertTo: CommandCenterSC
price: Minerals=0
text: SCV
description: Converts Worker into Terran SCV
descriptionAddUnitStats: ${section.convertTo}
pos: 3

displayType: Upgrade
buildSpeed: 0.001

iconExtraImage: SHARED:icon_upgrade_top.png
iconExtraColor: #AAFFFFFF


[graphics]


total_frames: 3
image: land_builder.png
image_wreak:  NONE
image_turret: nano_turret.png


animation_moving_start: 0
animation_moving_end: 2
animation_moving_speed: 1

dustEffect: true

#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: AUTO
shadowOffsetX:2
shadowOffsetY:2






[attack]


canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits: false
canAttackUnderwaterUnits: false

isFixedFiring: False
turretSize: 3
turretTurnSpeed: 3

maxAttackRange: 110
shootDelay: 50

[turret_1]

#nano turret (nano must be slot 1)
x: 0
y: 5

image: nano_turret.png

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

idleDir:0
idleDirReversing:0

invisible: false
turnSpeed: 3
turnSpeedAcceleration: 0.2

isMainNanoTurret: true
[movement]

movementType: LAND
moveSpeed: 1.1
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.08

maxTurnSpeed: 3.5
turnAcceleration: 0.5

moveSlidingMode : true
moveIgnoringBody: false

[ai]
useAsBuilder: true

buildPriority: 0.6

noneInBaseExtraPriority: 1