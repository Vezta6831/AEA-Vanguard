
[core]
name: combatEngineerX
copyFrom:ROOT:statusEffect.template

displayText: Combat EngineerX
displayDescription:-Detects Cloaked Units\n-Can build units and some T2 Buildings\n- Switches to Medic Mode for better repair abilities\n- Can attack land, air and subs\n- Can repair units\n- Can build Sub-Turrets\n- Can only have 6 built at once
displayText_ru: Продв. Боевой Инженер
displayDescription_ru: - Может строить некоторые Т2 здания \n - Может переключаться в режим “Медика” для ускоренной починки \n - Может атаковать все виды войск \n - Один игрок может иметь лишь 6 инженеров.
displayText_zh: 作战工程师-X
displayDescription_zh:-可以建造一些单位和部分T2建筑\n-切换到维护模式以获得更好的维修能力\n-可以攻击地面、空中和水下单位\n-可以建造维护类单位\n-可以建造水下防御\n-最大同时存在数量：6 

class: CustomUnitMetadata
price: 6800
maxHp: 1500
mass: 4000

overrideAndReplace: combatEngineer
techLevel: 2

buildSpeed: 0.0005
availableInDemo: false

selfRegenRate:0.1

radius: 17
displayRadius: 18

isBio: false
isBuilder: true

builtFrom_1_name: landFactory
builtFrom_1_pos:  6
#builtFrom_1_techLevel: 2

canRepairBuildings: true
canRepairUnits : true
fogOfWarSightRange: 14

canReclaimResources: true


generation_credits: 1
generation_delay: 40

autoRepair: true

nanoRange: 145
nanoBuildSpeed: 3.00
nanoRepairSpeed: .90


energyStartingPercentage: 0
energyMax: 1
energyRegen: 0.001

canBuild_3_name: ExtractorT3, bgc_wall,Oceanic Fabricator
canBuild_3_pos:  5


canBuild_4_name: basicMech,saberTank,Typhoon,mobileTurretTRTL, heavyMobileTurretDeployed, heavyArtilleryMechDeployed
canBuild_4_pos:  4
canBuild_4_tech: 2


canBuild_6_name: mechfactoryTRTL,mechfactory2TRTL,TRTLairFactory,airFactoryT2TRTL
canBuild_6_pos:  7

canBuild_10_name: c_repairBaytrtl,c_repairBaytrtlT2,buildhub,radar,t1gunLandTRTL,TRTL_antiAirTurret12,mgTurret,TorpedoTurret,rocket_turretTRTL,20mm,tesla2,TRTL_antiAirTurretT212
canBuild_10_pos:  3.0

canBuild_16_name: EkHarvesterSolar, EkResourceDrill
canBuild_16_pos:  2
#canBuild_16_tech: 2

canBuild_17_name: reclaim
canBuild_17_pos:  -1

tags: combatengineer, detector, mech, unit

[canBuild_humanMechFactory]
isLocked: if self.isControlledByAI()
isVisible: if not self.isControlledByAI()
pos:  5
name: mechFactoryT2c
[canBuild_AimechFactory]
isVisible: if self.isControlledByAI()
isLocked: if not self.isControlledByAI()
name: AiT2MechFactory
pos:  5
[action_gunsOff]
ai_isDisabled: true
isVisible: true
pos: 0.1
convertTo: CombatOff
price:  0
text: Medic Mode
description: - Completely disables attack capabilites\n- Disables laser defence\n- Buffs repair range and powers\n- Useful when guarding a unit soley to repair\n- Weapons can be switched back on
text_ru: Режим Медика
description_ru: - Полностью отключает все атакующие способности, а также отключает лаз. защиту \n - Повышает лечащие способности \n - Режим может быть возвращён в исходный
text_zh: 维护模式
description_zh: -完全禁用所有的攻击能力\n-禁用激光防御\n-增强修复范围和效率\n-在保护一个单独的单位进行修复时非常有效\n-进入维护模式可以重新打开武器
#text: i:units.fabricator.upgrade.name
displayType: action
whenBuilding_cannotMove: true
buildSpeed: 5s

#iconImage: SHARED:icon_upgrade.png



[hiddenAction_refund]
requireConditional:  if numberOfUnitsInTeam(greaterThan=6, withTag='combatengineer', incompleteBuildings=true)
autoTriggerOnEvent: created
addResources: 6000
deleteSelf: true
showMessageToPlayer: You have built the maximum amount of Combat Engineers you can have at the same time.
showMessageToPlayer_ru: Вы построили максимально возможное количество продвинутых боевых инженеров
showMessageToPlayer_zh:你已经建造了最大数量的作战工程师-X

[graphics]

total_frames: 1
image:        base-x.png
image_wreak:  base_dead.png
image_turret: NONE
#scaleImagesTo: 20
#scaleTurretImagesTo: 9

#AUTO
image_shadow: AUTO
shadowOffsetX:1
shadowOffsetY:1




[attack]

canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: true

isFixedFiring: true

turretSize: 3
turretTurnSpeed: 3


maxAttackRange: 200
shootDelay: 30


turretRotateWithBody: false


[turret_1]
#nano turret (nano must be slot 1)
x: 0
y: 0
invisible: true
warmup:30

canShoot: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false

turnSpeedAcceleration: 0.08


[turret_2]
x: 0
y: -0
invisible: true

shoot_sound:plasma_fire
shoot_sound_vol:0.05
shoot_flame:small
shoot_light:#FFccCCEE

canAttackFlyingUnits: true
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

[turret_3]
#torpedo
invisible: true
x: 0
y: 0
idleDir:0
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: true

canAttackCondition: if self.overwater

projectile: 2
size: 1
turnSpeed: 15
delay: 120

[turret_4]
x: 0
y:  -10
canShoot: false
invisible: true
laserDefenceEnergyUse: 0.3
limitingRange: 140
size: 0


[projectile_1]
directDamage: 45
life: 70
speed: 7
frame: 11

lightColor: #FFccCCEE
lightSize: 0.4

[projectile_2]
#torpedo
directDamage: 65
life: 250
speed: 0.6
targetSpeed: 1.3
drawSize: 1
color: #1E1E96
trailEffect: true
largeHitEffect: true


[movement]
movementType: HOVER
moveSpeed: 1
moveAccelerationSpeed: 0.03
moveDecelerationSpeed: 0.08


targetHeight: 4
targetHeightDrift: 1.5

maxTurnSpeed: 3.7
turnAcceleration: 0.05

moveSlidingMode :true
moveIgnoringBody:true
moveSlidingDir:  181


[ai]
useAsBuilder: true

buildPriority: 0.9
noneInBaseExtraPriority: 0.8
maxEachBase: 1 
maxGlobal: 6
