[core]
copyFrom:ROOT:/DATA/Zerg/units/airUnits.template, ROOT:/DATA/Zerg/zergUpgrades.template, ROOT:/DATA/total/debuffs.template, ROOT:/DATA/total/customUI.template
name: guardian
tags:L,bio,canConsume,unit
price:Minerals=2100,Gas=9
#borrowResourcesWhileAlive:supply=2, #displaySupply=-2
maxHp: 4000
armour:2
displayText_ru: Страж
displayText: Guardian
displayDescription: -Worker for Zerg\n-Transforms itself into buildings\n-Harvests resources
buildSpeed: 0.005
radius: 24
displayRadius: 26
soundOnMoveOrder: guardian_order.ogg:0.3,guardian_order2.ogg:0.3,guardian_order3.ogg:0.3,guardian_order4.ogg:0.3
soundOnAttackOrder: guardian_order.ogg:0.3,guardian_order2.ogg:0.3,guardian_order3.ogg:0.3,guardian_order4.ogg:0.3
soundOnNewSelection:guardian_order.ogg:0.3,guardian_order2.ogg:0.3,guardian_order3.ogg:0.3,guardian_order4.ogg:0.3
experimental: true

[effect_corpse]
alwayStartDirAtZero:true
attachedToUnit: false
life: 80
alpha: 8
image: death.png
priority: critical
drawUnderUnits:false
total_frames:8
animateFrameStart:0
animateFrameEnd:7
animateFrameSpeed:0.2
alsoPlaySound:death.wav

[effect_sparks]
alwayStartDirAtZero:true
attachedToUnit: false
life: 120
alpha: 12
image: sparks.png
priority: critical
drawUnderUnits:false
total_frames:12
animateFrameStart:0
animateFrameEnd:11
animateFrameSpeed:0.2
frame_width:  100
frame_height: 100

[effect_shoot]
attachedToUnit: false
yOffsetRelative: 0
life: 60
alpha: 6
hSpeed: 0
image:shoot.png
priority: critical
drawUnderUnits:false
total_frames:6
animateFrameStart:0
animateFrameEnd:5
animateFrameSpeed:0.2
scaleFrom:1
scaleTo: 1

[graphics]
#image_offsetY:-10
total_frames: 7
icon_build: guardian_icon.png
image:        guardian.png
image_wreak:  NONE
image_turret: NONE
image_shadow: AUTO_ANIMATED
animation_moving_start: 0
animation_moving_end: 6
animation_moving_speed: 3
animation_idle_start: 0
animation_idle_end: 6
animation_idle_speed: 4
showEnergyBar:false
lock_body_rotation_with_main_turret: true
rotate_with_direction: false
animation_direction_units: 45
animation_direction_strideX:0
animation_direction_strideY:1
animation_direction_starting:180
frame_width:  80
frame_height: 73
imageScale: 1.21

[attack]
canAttackFlyingUnits: false
maxAttackRange: 335
shootDelay:1.26s

[turret_T1T2]
canAttackFlyingUnits: false
canAttackLandUnits: if self.resource(type='ZergAirAttack',equalTo=0) or self.resource(type='ZergAirAttack',equalTo=1)
x: 0
y: 0
shoot_sound:shoot.ogg
shoot_sound_vol:0.3
shoot_flame:CUSTOM:shoot
recoilOffset: 0
#barrelHeight: 10
barrelY: 10
projectile:T1
showRangeUIGuide:false
altProjectile: T2
altProjectileCondition: if self.resource(type='ZergAirAttack',equalTo=1)

[turret_T3T4]
canAttackLandUnits: if self.resource(type='ZergAirAttack',equalTo=2) or self.resource(type='ZergAirAttack',equalTo=3)
@copyFromSection:turret_T1T2
projectile:T3
altProjectile: T4
altProjectileCondition: if self.resource(type='ZergAirAttack',equalTo=3)

[projectile_T1]
directDamage: 210
life: 160
speed: 4
targetSpeed: 8
image:arrow.png
explodeEffect:CUSTOM:sparks
explodeEffectOnShield:CUSTOM:sparks
mutator1_ifUnitWithTags: zergSwarm
mutator1_directDamageMultiplier:0

[projectile_T2]
directDamage: 220
@copyFromSection:projectile_T1

[projectile_T3]
directDamage: 230
@copyFromSection:projectile_T1

[projectile_T4]
directDamage: 240
@copyFromSection:projectile_T1

[movement]
moveSpeed: 0.744

[decal_ensnare_goo]
image:ROOT:/DATA/total/ensnare_goo_3.png

[decal_plague_goo]
image:ROOT:/DATA/total/plague_goo_3.png

[decal_defensive_matrix]
image:ROOT:/DATA/total/defensive_matrix_3.png

[effect_mindControl]
image:ROOT:/DATA/total/mindControl_3.png
frame_width: 128
frame_height: 128

[hiddenAction_feedback_debuff]
@copyFrom_skipThisSection: true

[effect_feedback]
@copyFrom_skipThisSection: true

[decal_maelstrom]
image:ROOT:/DATA/total/maelstrom_3.png
frame_width:  128
frame_height: 128

[decal_grn_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByOwnPlayer:true
image:ROOT:/DATA/total/circle_med_grn_2.png

[decal_red_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByEnemyPlayer:true
image:ROOT:/DATA/total/circle_med_red_2.png

[decal_yellow_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByAllyNotOwnPlayer:true
image:ROOT:/DATA/total/circle_med_yell_2.png

[decal_hp]
@copyFromSection: template_customBar
@define totalFrames:10
image:ROOT:/DATA/total/hp_11.png
frame_width:34
frame_height:5
frame:int((self.hp*100/self.maxHp)/(100/${totalFrames}))
yOffsetAbsolute:23