[core]
copyFrom:ROOT:/DATA/Zerg/units/airUnits.template, ROOT:/DATA/Zerg/zergUpgrades.template, ROOT:/DATA/total/debuffs.template, ROOT:/DATA/total/customUI.template
name: zoverlord
tags:detector,L,bio,canConsume,unit
price:Minerals=150
maxHp: 2000
displayText_ru: Надзиратель
displayText: Overlord
displayDescription_ru: ДЕТЕКТОР
displayDescription: -Can see invisible units\n-Can be used as a dropship\n-Increases supply cap
buildSpeed: 3s
radius: 24
displayRadius: 26
soundOnMoveOrder: overlord_order.ogg:0.3, overlord_order2.ogg:0.3,overlord_order3.ogg:0.3, overlord_order4.ogg:0.3
soundOnNewSelection:overlord_order.ogg:0.3, overlord_order2.ogg:0.3,overlord_order3.ogg:0.3, overlord_order4.ogg:0.3
borrowResourcesWhileAlive:supply=-8, maxSupply=-8
ignoreInUnitCapCalculation: true


[hiddenAction_soundOnCreate]
autoTriggerOnEvent: created
requireConditional:if self.customTarget1!=nullUnit
playSoundToPlayer:spawn.wav
addWaypoint_type:move
addWaypoint_target_fromReference: customTarget1.readUnitMemory(name="rally",type="unit")

[hiddenAction_transport]
autoTrigger: if self.globalTeamTags(includes='VentralSacs')
convertTo: overlordTransport

[hiddenAction_speed]
autoTrigger: if self.globalTeamTags(includes='PneumatizedCarapace') and not self.tags(includes='speed')
temporarilyAddTags: speed
setUnitStats: moveSpeed+=0.7416

[hiddenAction_antennae]
autoTrigger: if self.globalTeamTags(includes='Antennae') and not self.tags(includes='antennae')
temporarilyAddTags: antennae, detectorRange
setUnitStats: fogOfWarSightRange=58

[effect_corpse]
alwayStartDirAtZero:true
attachedToUnit: false
life: 50
alpha: 7
hSpeed: 0
image: death.png
priority: critical
drawUnderUnits:false
total_frames:7
animateFrameStart:0
animateFrameEnd:6
animateFrameSpeed:0.2
alsoPlaySound:death.wav
scaleFrom:1
scaleTo: 1

[graphics]
image_offsetY:-19
total_frames: 4
icon_build: overlord_icon.png
image:        overlord.png
image_wreak:  NONE
image_turret: NONE
image_shadow: AUTO_ANIMATED
animation_moving_start: 2
animation_moving_end: 3
animation_moving_speed: 5
showTransportBar:false
lock_body_rotation_with_main_turret: true
rotate_with_direction: false
animation_direction_units: 45
animation_direction_strideX:0
animation_direction_strideY:1
animation_direction_starting:180
frame_width:  84
frame_height: 84

[attack]
canAttackFlyingUnits: false
canAttackLandUnits:   false
maxAttackRange: 0

[movement]
moveSpeed: 0.2472

[ai]
maxGlobal:1

[decal_ensnare_goo]
image:ROOT:/DATA/total/ensnare_goo_3.png

[decal_plague_goo]
image:ROOT:/DATA/total/plague_goo_3.png

[decal_defensive_matrix]
image:ROOT:/DATA/total/defensive_matrix_3.png

[effect_mindControl]
image:ROOT:/DATA/total/mindControl_3.png
frame_width: 128
frame_height: 128

[hiddenAction_feedback_debuff]
@copyFrom_skipThisSection: true

[effect_feedback]
@copyFrom_skipThisSection: true

[decal_maelstrom]
image:ROOT:/DATA/total/maelstrom_3.png
frame_width:  128
frame_height: 128

[decal_grn_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByOwnPlayer:true
image:ROOT:/DATA/total/circle_med_grn.png

[decal_red_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByEnemyPlayer:true
image:ROOT:/DATA/total/circle_med_red.png

[decal_yellow_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByAllyNotOwnPlayer:true
image:ROOT:/DATA/total/circle_med_yell.png

[decal_hp]
@copyFromSection: template_customBar
@define totalFrames:10
image:ROOT:/DATA/total/hp_11.png
frame_width:34
frame_height:5
frame:int((self.hp*100/self.maxHp)/(100/${totalFrames}))
yOffsetAbsolute:23