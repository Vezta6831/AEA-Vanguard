[core]
copyFrom:ROOT:/DATA/total/forcesAttack.template, ROOT:/DATA/Protoss/protossUpgrades.template, ROOT:/DATA/total/debuffs.template, ROOT:/DATA/total/customUI.template
showInEditor: false
name: archontBuild
tags: L, NotBroodling, haveShield, hover, unit
class: CustomUnitMetadata
price:0
maxHp: 300
maxShield:7250
shieldRegen:0.01
shieldDisplayOnlyDeflection:true
energyMax:15
energyRegen:-0.0166666666
mass: 9999
displayText_ru: Архон
displayText: Archon
techLevel: 1
buildSpeed: 0.005
#availableInDemo: true
radius: 25
displayRadius: 28
isBio: true
hideScorchMark: true
isBug: false
isUnrepairableUnit: false
fogOfWarSightRange:17
softCollisionOnAll: 5
transportSlotsNeeded: 999
effectOnDeath:CUSTOM:corpse
maxTransportingUnits:0

[hiddenAction_onCreate]
autoTriggerOnEvent:completeAndActive
addEnergy:15

[hiddenAction_armor]
autoTrigger: if self.resource(type='ProtossGroundArmor',greaterThan=0) and not self.tags(includes='armor1')
temporarilyAddTags: armor1
setUnitStats: armour+=1

[hiddenAction_armor_2]
autoTrigger: if self.resource(type='ProtossGroundArmor',greaterThan=1) and not self.tags(includes='armor2')
temporarilyAddTags: armor2
setUnitStats: armour+=1

[hiddenAction_armor_3]
autoTrigger: if self.resource(type='ProtossGroundArmor',greaterThan=2) and not self.tags(includes='armor3')
temporarilyAddTags: armor3
setUnitStats: armour+=1

[effect_corpse]
alwayStartDirAtZero:true
attachedToUnit: false
life: 100
alpha: 10
image: ROOT:/DATA/Protoss/death.png
priority: critical
drawUnderUnits: true
total_frames:10
animateFrameStart:0
animateFrameEnd:9
animateFrameSpeed:0.2
frame_width:  190
frame_height: 152
alsoPlaySound:dead.ogg

[hiddenAction_life_Time]
autoTrigger: if self.energy(empty=true) and self.queueSize(lessThan=1)
playSoundToPlayer:buildEnd.wav:0.3
alsoQueueAction:life_Time_2

[hiddenAction_life_Time_2]
buildSpeed: 0.9s
whenBuilding_playAnimation: complete
whenBuilding_cannotMove:true
convertTo: archont
clearAllWaypoints:true
setBodyRotation: 45

[graphics]
image_offsetY:-14
icon_build: archon_icon.png
image: archontBuild.png
image_wreak:  NONE
image_turret: NONE
image_shadow:NONE
animation_moving_start: 0
animation_moving_end: 4
animation_moving_speed: 5
animation_idle_start: 0
animation_idle_end: 4
animation_idle_speed: 5
lock_body_rotation_with_main_turret: false
rotate_with_direction: false
drawLayer:experimentals
showEnergyBar:false
frame_width:  120
frame_height: 120

[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false
isFixedFiring: false
turretSize: 6
turretTurnSpeed: 3
maxAttackRange: 0
shootDelay: 100s
turretRotateWithBody:false

[movement]
movementType: LAND
moveSpeed: 0
moveAccelerationSpeed: 0
moveDecelerationSpeed: 0
maxTurnSpeed: 0
turnAcceleration: 0
moveSlidingMode :false
moveIgnoringBody:false
reverseSpeedPercentage:0
joinsGroupFormations: false

[ai]
buildPriority: 0.8
noneInBaseExtraPriority: 0.8
noneGlobalExtraPriority: 0.8
maxEachBase: 10
upgradedFrom: archont

[animation_complete]
body_0s: {frame:7}
body_0.8s: {frame:15}
body_0.9s: {frame:15}

[decal_ensnare_goo]
image:ROOT:/DATA/total/ensnare_goo_3.png

[decal_plague_goo]
image:ROOT:/DATA/total/plague_goo_3.png

[decal_defensive_matrix]
image:ROOT:/DATA/total/defensive_matrix_3.png

[hiddenAction_debuff_lockdown]
@copyFrom_skipThisSection: true

[hiddenAction_removeDebuff_lockdown]
@copyFrom_skipThisSection: true

[effect_mindControl]
image:ROOT:/DATA/total/mindControl_3.png
frame_width: 128
frame_height: 128

[hiddenAction_feedback_debuff]
@copyFrom_skipThisSection: true

[effect_feedback]
@copyFrom_skipThisSection: true

[hiddenAction_debuff_maelstrom]
@copyFrom_skipThisSection: true

[hiddenAction_debuff_maelstrom_effect]
@copyFrom_skipThisSection: true

[hiddenAction_removeDebuff_maelstrom]
@copyFrom_skipThisSection: true

[decal_grn_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByOwnPlayer:true
image:ROOT:/DATA/total/circle_lrg_grn.png

[decal_red_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByEnemyPlayer:true
image:ROOT:/DATA/total/circle_lrg_red.png

[decal_yellow_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByAllyNotOwnPlayer:true
image:ROOT:/DATA/total/circle_lrg_yell.png

[decal_hp]
@copyFromSection: template_customBar
@define totalFrames:11
image:ROOT:/DATA/total/hp_p12.png
frame_width:37
frame_height:7
frame:int((self.hp*100/self.maxHp)/(100/${totalFrames}))
yOffsetAbsolute:29

[decal_shield]
@copyFromSection: template_customBar
@define totalFrames:11
image:ROOT:/DATA/total/shield_p12.png
frame_width:37
frame_height:7
frame:int((self.shield*100/self.maxShield)/(100/${totalFrames}))
yOffsetAbsolute:29