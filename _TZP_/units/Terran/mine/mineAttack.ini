[core]
ignoreInUnitCapCalculation:true
copyFrom:ROOT:/DATA/total/forcesAttack.template, ROOT:/DATA/total/customUI.template
disableAllUnitCollisions:true
showInEditor: false
name: mineAttack
tags: massWeapons,S,landAttackTarget
class: CustomUnitMetadata
price:0
maxHp: 20
mass: 500
displayText_ru: Мина
displayText: Mine
techLevel: 1
buildSpeed: 0.005
radius: 8
explodeOnDeath: false
hideScorchMark: true
displayRadius: 10
isBio: true
fogOfWarSightRange:17
isUnrepairableUnit: true
softCollisionOnAll: 999
transportSlotsNeeded: 9999
canNotBeGivenOrdersByPlayer: true
effectOnDeath:CUSTOM:corpse

[effect_corpse]
alwayStartDirAtZero:true
attachedToUnit: false
life: 100
alpha: 10
hSpeed: 0
yOffsetAbsolute: -10
image: explode.png
priority: critical
drawUnderUnits:false
total_frames:10
animateFrameStart:0
animateFrameEnd:9
animateFrameSpeed:0.3
alsoPlaySound:explode.ogg
frame_width:  80
frame_height: 80

[hiddenAction_goBackOnDamaged]
@copyFrom_skipThisSection:true

[hiddenAction_not_attack]
autoTrigger: if not self.isAttacking() and self.timeAlive()>=1
alsoQueueAction: not_attack_2

[hiddenAction_not_attack_2]
highPriorityQueue: true
buildSpeed: 0.4s
whenBuilding_playAnimation: burrow
whenBuilding_cannotMove:true
canPlayerCancel:false
convertTo:mineInvis

[graphics]
total_frames: 12
icon_build: spiderMine_icon.png
image:        mine.png
image_wreak:  NONE
image_turret: NONE
image_shadow:NONE
animation_moving_start: 0
animation_moving_end: 7
animation_moving_speed: 2
animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 4
animation_attack_start: 0
animation_attack_end: 0
animation_attack_speed: 2
rotate_with_direction:false
lock_body_rotation_with_main_turret: false
drawLayer:experimentals

[attack]
canOnlyAttackUnitsWithoutTags: building, hover, stasis
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits: if self.timeAlive()>=1.2
canAttackUnderwaterUnits: false
meleeEngangementDistance: 120
isMelee: true
turretSize: 8
maxAttackRange: 10
shootDelay: 2s
dieOnAttack:true
isFixedFiring: true
aimOffsetSpread: 0
showRangeUIGuide:false

[turret_1]
x: 0
y: 0
recoilOffset: 0
shoot_flame:NONE

[projectile_1]
explodeEffect:NONE
areaDamage: 450
areaRadius: 40
armourIgnoreAmount:125
areaDamageNoFalloff: true
areaRadiusFromEdge: true
friendlyFire:true
targetGround:true
disableLeadTargeting: true
life: 0
speed: 0
invisible: true
explodeOnEndOfLife: true
mutator1_ifUnitWithTags: stasis
mutator1_areaDamageMultiplier:0

[movement]
movementType: LAND
moveSpeed: 3.2
moveAccelerationSpeed: 20
moveDecelerationSpeed: 20
maxTurnSpeed: 20
turnAcceleration: 20
moveSlidingMode :false
moveIgnoringBody:false
reverseSpeedPercentage:0
joinsGroupFormations: false

[ai]
buildPriority: 0.8
noneInBaseExtraPriority: 0.8
noneGlobalExtraPriority: 0.8
maxEachBase: 10
upgradedFrom: mineInvis

[animation_burrow]
body_0s: {frame:8}
body_0.1s: {frame:9}
body_0.2s: {frame:10}
body_0.3s: {frame:11}
body_0.5s: {frame:11}

[animation_stop]
body_0s: {frame:0}
body_1s: {frame:0}

[decal_grn_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByOwnPlayer:true
image:ROOT:/DATA/total/circle_smll_grn.png

[decal_red_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByEnemyPlayer:true
image:ROOT:/DATA/total/circle_smll_red.png

[decal_yellow_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByAllyNotOwnPlayer:true
image:ROOT:/DATA/total/circle_smll_yell.png

[decal_hp]
@copyFromSection: template_customBar
@define totalFrames:5
image:ROOT:/DATA/total/hp_6.png
frame_width:19
frame_height:5
frame:int((self.hp*100/self.maxHp)/(100/${totalFrames}))
yOffsetAbsolute:14