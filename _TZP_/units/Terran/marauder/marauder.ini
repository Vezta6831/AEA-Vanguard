[core]
copyFrom:ROOT:/DATA/total/forcesAttack.template, ROOT:/DATA/Terran/terranUpgrades.template, ROOT:/DATA/total/debuffs.template, ROOT:/DATA/total/customUI.template

name: SCBWMarauder
displayText: Marauder
displayDescription: -Armored, anti-armor infantry unit.
class: CustomUnitMetadata
price: Gas=525
maxHp: 1650
armour: 3
mass: 800

energyMax: 0
energyRegen: -0.0166666666

tags: SCBWStimmable, unit, bio
showActionsWithMixedSelectionIfOtherUnitsHaveTag: SCBWStimmable

techLevel: 1
buildSpeed: 24.5s
#availableInDemo: true

radius: 12
displayRadius: 14


isBio: true
softCollisionOnAll: 9

soundOnMoveOrder: tmrrdy00.wav, tmrwht00.wav, tmrwht01.wav, tmrwht02.wav, tmrwht03.wav
soundOnAttackOrder: tmryes00.wav, tmryes01.wav, tmryes02.wav, tmryes03.wav

[action_stimPack]
alwaysSinglePress:true
isVisible: if self.globalTeamTags(includes='AcademyStimPack')
isActive: if self.globalTeamTags(includes='AcademyStimPack') and not self.tags(includes='stimpack') and self.resource.stasis<=0
isLocked: if self.isControlledByAI() and ((not self.isAttacking() and distanceBetween(self, self.activeWaypointTarget)>300) or not self.isAttacking())
displayType: upgrade
price: hp=175
text_ru:Стимуляторы
text:Stimpack
buildSpeed: 0s
highPriorityQueue: true
playSoundAtUnit:stimpack.ogg
iconImage:ROOT:/DATA/Terran/stimpack.png
ai_isHighPriority:true
setUnitStats: moveSpeed=1.7856, maxEnergy=10, energy+=10, shootDelayMultiplier=0.5
temporarilyAddTags: stimpack

[hiddenAction_stimPack_2]
autoTrigger: if (self.tags(includes='stimpack') and self.energy(empty=true)) or (self.tags(includes='stimpack') and self.resource.ensnare>0)
setUnitStats: moveSpeed=1.1904, maxEnergy=0, shootDelayMultiplier=1
temporarilyRemoveTags: stimpack


[hiddenAction_repairForMedic]
autoTrigger: if not self.hp(full=true) and not self.tags(includes='repairInfantry')
temporarilyAddTags:repairInfantry

[hiddenAction_notRepairForMedic]
autoTrigger: if self.hp(full=true) and self.tags(includes='repairInfantry')
temporarilyRemoveTags:repairInfantry

[hiddenAction_soundOnCreate]
autoTriggerOnEvent: created
requireConditional:if self.customTarget1!=nullUnit
playSoundToPlayer:spawn.ogg
addWaypoint_type:move
addWaypoint_target_fromReference: customTarget1.readUnitMemory(name="rally",type="unit")

[graphics]
total_frames: 18

image:        marauder.png
image_wreak:  NONE

teamColorsOnTurret: true

image_shadow: AUTO
shadowOffsetX: 1
shadowOffsetY: 1

animation_idle_start: 0
animation_idle_end: 0
animation_idle_speed: 6

animation_moving_start: 0
animation_moving_end: 11
animation_moving_speed: 4

animation_attack_start: 14
animation_attack_end: 17
animation_attack_speed: 20

dustEffect: false

lock_body_rotation_with_main_turret: true


[attack]
canAttack: true
canAttackFlyingUnits: false
canAttackLandUnits:   true
canAttackUnderwaterUnits: false

turretSize: 3
turretTurnSpeed: 6

isFixedFiring: false

maxAttackRange: 200
shootDelay: 72

aimOffsetSpread: 0.5

[turret_1]
# main body
x: 0
y: 0
invisible: true
canShoot: false

turnSpeed: 4.0
turnSpeedAcceleration: 1.0

[turret_2]
#gun
x: -10
y: 20

attachedTo: 1
slave: true
invisible: true
projectile: 1

shoot_sound: tmrfir00.wav
shoot_sound_vol: 0.3
shoot_light: #33FFCC00

canShoot: true
recoilOffset: 0

[turret_3]
x: 10
y: 20
copyFrom: 2
linkDelayWithTurret: 2
warmup: 0

shoot_sound: NONE

[projectile_1]
directDamage: 92
buildingDamageMultiplier: 1
armourIgnoreAmount: 6
life: 70
speed: 15

image:marauder_proj.png

drawSize: 1.2

lightColor: #CCFFCC99
lightSize: 1.0

[movement]
movementType: LAND
moveSpeed: 1.2
moveAccelerationSpeed: 0.4
moveDecelerationSpeed: 0.8

maxTurnSpeed: 20
turnAcceleration: 20

moveSlidingMode :false
moveIgnoringBody:false
