[core]
copyFrom:ROOT:/DATA/Zerg/cocoon.template, ROOT:/DATA/total/customUI.template
name: CocoonCreepColony
tags:building, creepColony
price:Minerals=0
maxHp: 2000
energyMax: 12
generation_resources:energy=-0.25, hp=10
generation_delay:10
displayText_ru: Колония слизи
displayText: Creep colony
footprint: -1,-1,1,1
constructionFootprint:-1,-1,1,1
buildingToFootprintOffsetX:10
buildingToFootprintOffsetY:0
radius: 40

[placementRule_onCreep]
anyRuleInGroup: Creep
searchTags: creep
searchDistance: 80
minCount: 1
cannotPlaceMessage_ru: Ты должен строить на слизи
cannotPlaceMessage: You must build on a creep
searchTeam: neutral

[placementRule_onCreep_2]
anyRuleInGroup: Creep
searchTags: main
searchDistance: 280
minCount: 1
cannotPlaceMessage_ru: Ты должен строить на слизи
cannotPlaceMessage: You must build on a creep
searchTeam: own

[hiddenAction_soundOnCreate]
addResources:hp=-397

[action_clear]
addResources:hp=-1500,Minerals=56
spawnUnits:drone

[hiddenAction_evolveTime]
addResources:hp=34

[hiddenAction_life_Time]
autoTrigger: if self.queueSize(lessThan=1) and self.energy(empty=true)
alsoQueueAction:life_Time_2

[hiddenAction_life_Time_2]
buildSpeed: 0.3s
convertTo: CreepColony
spawnUnits: creep(offsetX=0,offsetY=0), creep(offsetX=70,offsetY=70), creep(offsetX=-70,offsetY=70), creep(offsetX=70,offsetY=-70), creep(offsetX=-70,offsetY=-70), creep(offsetX=0,offsetY=140,skipIfOverlapping=true), creep(offsetX=0,offsetY=-140,skipIfOverlapping=true), creep(offsetX=-140,offsetY=0,skipIfOverlapping=true), creep(offsetX=140,offsetY=0,skipIfOverlapping=true), creep(offsetX=140,offsetY=140,skipIfOverlapping=true), creep(offsetX=-140,offsetY=140,skipIfOverlapping=true), creep(offsetX=140,offsetY=-140,skipIfOverlapping=true), creep(offsetX=-140,offsetY=-140,skipIfOverlapping=true), creep(offsetX=70,offsetY=210,skipIfOverlapping=true), creep(offsetX=-70,offsetY=210,skipIfOverlapping=true), creep(offsetX=70,offsetY=-210,skipIfOverlapping=true), creep(offsetX=-70,offsetY=-210,skipIfOverlapping=true), creep(offsetX=210,offsetY=70,skipIfOverlapping=true), creep(offsetX=-210,offsetY=70,skipIfOverlapping=true), creep(offsetX=210,offsetY=-70,skipIfOverlapping=true), creep(offsetX=-210,offsetY=-70,skipIfOverlapping=true), creep(offsetX=280,offsetY=0,skipIfOverlapping=true), creep(offsetX=-280,offsetY=0,skipIfOverlapping=true)
spawnEffects:CUSTOM:buildEnd
whenBuilding_playAnimation:buildEnd

[graphics]
icon_build: creepColony_icon.png

[ai]
buildPriority: 0.09
noneInBaseExtraPriority: 0.09
noneGlobalExtraPriority: 0.09
maxEachBase: 2
recommendedInEachBaseNum: 2

[animation_buildEnd]
body_0s: {frame:9}
body_0.1s: {frame:10}
body_0.2s: {frame:11}
body_0.3s: {frame:11}

[decal_grn_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByOwnPlayer:true
image:ROOT:/DATA/total/circle_lrg_grn.png
yOffsetAbsolute:10

[decal_red_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByEnemyPlayer:true
image:ROOT:/DATA/total/circle_lrg_red.png
yOffsetAbsolute:10

[decal_yellow_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByAllyNotOwnPlayer:true
image:ROOT:/DATA/total/circle_lrg_yell.png
yOffsetAbsolute:10

[decal_hp]
@copyFromSection: template_customBar
@define totalFrames:16
image:ROOT:/DATA/total/hp_17.png
frame_width:52
frame_height:5
frame:int((self.hp*100/self.maxHp)/(100/${totalFrames}))
yOffsetAbsolute:36

[decal_fullConstuction]
onlyPlayersWithUnitControl:true
onlyTeam:ally
layer: afterBody
total_frames:4
image: creepColony.png
teamColors:true
onlyInPreview: true