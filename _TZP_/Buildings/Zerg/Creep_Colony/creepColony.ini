[core]
copyFrom:ROOT:/DATA/Zerg/buildings.template, ROOT:/DATA/total/customUI.template
name: CreepColony
tags: building, main, creepColony
maxHp: 2000
armour:1
displayText_ru: Колония слизи
displayText: Creep colony
displayDescription: -Spreads creep, which the zerg uses to build on.\n-Can morph into defensive structures
footprint: -1,-1,1,1
constructionFootprint:-1,-1,1,1
buildingToFootprintOffsetX:10
buildingToFootprintOffsetY:0
radius: 40
soundOnNewSelection:CreepColony.ogg:0.3

[hiddenAction_spawnCreep]
autoTriggerOnEvent:created
spawnUnits: creep(offsetX=0,offsetY=0), creep(offsetX=70,offsetY=70), creep(offsetX=-70,offsetY=70), creep(offsetX=70,offsetY=-70), creep(offsetX=-70,offsetY=-70), creep(offsetX=0,offsetY=140,skipIfOverlapping=true), creep(offsetX=0,offsetY=-140,skipIfOverlapping=true), creep(offsetX=-140,offsetY=0,skipIfOverlapping=true), creep(offsetX=140,offsetY=0,skipIfOverlapping=true), creep(offsetX=140,offsetY=140,skipIfOverlapping=true), creep(offsetX=-140,offsetY=140,skipIfOverlapping=true), creep(offsetX=140,offsetY=-140,skipIfOverlapping=true), creep(offsetX=-140,offsetY=-140,skipIfOverlapping=true), creep(offsetX=70,offsetY=210,skipIfOverlapping=true), creep(offsetX=-70,offsetY=210,skipIfOverlapping=true), creep(offsetX=70,offsetY=-210,skipIfOverlapping=true), creep(offsetX=-70,offsetY=-210,skipIfOverlapping=true), creep(offsetX=210,offsetY=70,skipIfOverlapping=true), creep(offsetX=-210,offsetY=70,skipIfOverlapping=true), creep(offsetX=210,offsetY=-70,skipIfOverlapping=true), creep(offsetX=-210,offsetY=-70,skipIfOverlapping=true), creep(offsetX=280,offsetY=0,skipIfOverlapping=true), creep(offsetX=-280,offsetY=0,skipIfOverlapping=true)

[hiddenAction_creep]
autoTrigger: true
takeResources: energy=-2
takeResources_includeUnitsWithinRange: 300
takeResources_excludeUnitsWithoutTags: creep
takeResources_discardCollected: true
takeResources_maxUnits: 60
takeResources_includeUnitsWithinRange_team: neutral

[decal_blood]
@copyFromSection: template_blood
isVisible: if self.hp<self.maxHp*0.85
image:ROOT:/DATA/Zerg/blood3.png
frame: select(self.hp<self.maxHp*0.7,6,0)+(self.timeAlive*12%6)
xOffsetAbsolute:10
yOffsetAbsolute:-5

[decal_blood_2]
@copyFromSection: template_blood
isVisible: if self.hp<self.maxHp*0.55
image:ROOT:/DATA/Zerg/blood4.png
frame: select(self.hp<self.maxHp*0.4,6,0)+(self.timeAlive*12%6)
xOffsetAbsolute:1
yOffsetAbsolute:-26

[action_clear]
addResources:hp=-1500

[action_sporeColony]
isVisible: if not self.globalTeamTags(includes='Campaign')
isLocked: if not self.hasUnitInTeam(withTag='Evolution')
isLockedMessage_ru:Требуется:\n  >Эволюционная камера
isLockedMessage:Requires:\n  >Evolution chamber
convertTo: CocoonSporeColony
displayType: upgrade
price:Gas=50
text_ru: Споровая колония
text: Spore colony
description_ru: Мутировать в Споровую колонию
description: Morph to the Spore colony
buildSpeed: 0s
ai_isHighPriority:true
pos:0
highPriorityQueue: true
iconImage:sporeColony_icon.png

[action_sunkenColony]
isVisible: if not self.globalTeamTags(includes='Campaign')
isLocked: if not self.hasUnitInTeam(withTag='SpawningPool')
isLockedMessage_ru:Требуется:\n  >Омут рождения
isLockedMessage:Requires:\n  >Spawning pool
convertTo: CocoonSunkenColony
displayType: upgrade
price:Gas=50
text_ru: Подземная колония
text: Sunken colony
description_ru: Мутировать в Подземную колонию
description: Morph to the Sunken colony
buildSpeed: 0s
ai_isHighPriority:true
pos:-1
highPriorityQueue: true
iconImage:sunkenColony_icon.png

[graphics]
#image_offsetY:-13
total_frames: 4
imageScale: 1
image: creepColony.png
image_back:   NONE
image_wreak:ROOT:/DATA/Zerg/dead.png
image_turret: NONE
drawLayer:experimentals
image_shadow:shadow.png
shadowOffsetX:0
shadowOffsetY:0
animation_idle_start: 0
animation_idle_end: 3
animation_idle_speed: 8

[ai]
buildPriority: 0.09
noneInBaseExtraPriority: 0.09
noneGlobalExtraPriority: 0.09
maxEachBase: 2
recommendedInEachBaseNum: 2
upgradedFrom: CocoonCreepColony

[decal_grn_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByOwnPlayer:true
image:ROOT:/DATA/total/circle_lrg_grn.png
yOffsetAbsolute:10

[decal_red_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByEnemyPlayer:true
image:ROOT:/DATA/total/circle_lrg_red.png
yOffsetAbsolute:10

[decal_yellow_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByAllyNotOwnPlayer:true
image:ROOT:/DATA/total/circle_lrg_yell.png
yOffsetAbsolute:10

[decal_hp]
@copyFromSection: template_customBar
@define totalFrames:16
image:ROOT:/DATA/total/hp_17.png
frame_width:52
frame_height:5
frame:int((self.hp*100/self.maxHp)/(100/${totalFrames}))
yOffsetAbsolute:36