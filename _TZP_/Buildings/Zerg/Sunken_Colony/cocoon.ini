[core]
copyFrom:ROOT:/DATA/Zerg/cocoon.template, ROOT:/DATA/total/customUI.template
showInEditor: false
name: CocoonSunkenColony
tags:building, main, creepColony
price:Minerals=250
maxHp: 1200
selfRegenRate:0.01666666666
energyMax: 12
generation_resources:energy=-0.25
generation_delay:10
displayText_ru: Подземная колония
displayText: Sunken colony
footprint: -1,-1,1,1
constructionFootprint:-1,-1,1,1
buildingToFootprintOffsetX:10
buildingToFootprintOffsetY:0
radius: 40

[hiddenAction_creep]
autoTrigger: true
takeResources: energy=-2
takeResources_includeUnitsWithinRange: 300
takeResources_excludeUnitsWithoutTags: creep
takeResources_discardCollected: true
takeResources_maxUnits: 60
takeResources_includeUnitsWithinRange_team: neutral

[hiddenAction_soundOnCreate]
autoTriggerOnEvent:IGNORE
addResources:IGNORE
playAnimation:IGNORE

[action_clear]
text_ru:Отмена
text:Cancel
addResources:Minerals=38
convertTo:CreepColony
iconImage:ROOT:/DATA/total/cancel.png
buildSpeed: 0.3s
whenBuilding_playAnimation:buildEnd
spawnEffects:CUSTOM:buildEnd
canPlayerCancel:false
allowMultipleInQueue:false

[hiddenAction_life_Time]
autoTrigger: if self.queueSize(lessThan=1) and self.energy(empty=true)
alsoQueueAction:life_Time_2

[hiddenAction_life_Time_2]
convertTo: SunkenColony
buildSpeed: 0.3s
spawnEffects:CUSTOM:buildEnd
whenBuilding_playAnimation:buildEnd

[ai]
upgradedFrom: CocoonCreepColony
maxEachBase: 1
recommendedInEachBaseNum: 1

[animation_buildEnd]
body_0s: {frame:9}
body_0.1s: {frame:10}
body_0.2s: {frame:11}
body_0.3s: {frame:11}

[decal_grn_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByOwnPlayer:true
image:ROOT:/DATA/total/circle_lrg_grn.png
yOffsetAbsolute:10

[decal_red_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByEnemyPlayer:true
image:ROOT:/DATA/total/circle_lrg_red.png
yOffsetAbsolute:10

[decal_yellow_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByAllyNotOwnPlayer:true
image:ROOT:/DATA/total/circle_lrg_yell.png
yOffsetAbsolute:10

[decal_hp]
@copyFromSection: template_customBar
@define totalFrames:16
image:ROOT:/DATA/total/hp_17.png
frame_width:52
frame_height:5
frame:int((self.hp*100/self.maxHp)/(100/${totalFrames}))
yOffsetAbsolute:36