[core]
copyFrom:ROOT:/DATA/Zerg/cocoon.template, ROOT:/DATA/total/customUI.template
name: CocoonDefilerMound
tags:building,DefilerMoundAI
price:Gas=300
maxHp: 2600
energyMax: 38
generation_resources:energy=-0.25, hp=5.9
generation_delay:10
displayText_ru: Логово Осквернителей
displayText: Defiler mound
footprint: -2,-2,2,1
constructionFootprint:-2,-2,2,1
buildingToFootprintOffsetX:10
buildingToFootprintOffsetY:0
radius: 60

[placementRule_onCreep]
anyRuleInGroup: Creep
searchTags: creep
searchDistance: 80
minCount: 1
cannotPlaceMessage_ru: Ты должен строить на слизи
cannotPlaceMessage: You must build on a creep
searchTeam: neutral

[placementRule_onCreep_2]
anyRuleInGroup: Creep
searchTags: main
searchDistance: 280
minCount: 1
cannotPlaceMessage_ru: Ты должен строить на слизи
cannotPlaceMessage: You must build on a creep
searchTeam: own

[hiddenAction_soundOnCreate]
addResources:hp=-847

[action_clear]
addResources:hp=-1500,Minerals=112,Gas=150
spawnUnits:drone

[hiddenAction_evolveTime]
addResources:hp=23

[hiddenAction_life_Time]
autoTrigger: if self.energy(lessThan=28)
convertTo: Cocoon2DefilerMound

[graphics]
icon_build: defilerMound_icon.png

[ai]
maxEachBase: 1
maxGlobal: 1

[decal_grn_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByOwnPlayer:true
image:ROOT:/DATA/total/circle_bldng_grn.png
yOffsetAbsolute:10

[decal_red_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByEnemyPlayer:true
image:ROOT:/DATA/total/circle_bldng_red.png
yOffsetAbsolute:10

[decal_yellow_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByAllyNotOwnPlayer:true
image:ROOT:/DATA/total/circle_bldng_yell.png
yOffsetAbsolute:10

[decal_hp]
@copyFromSection: template_customBar
@define totalFrames:29
image:ROOT:/DATA/total/hp_30.png
frame_width:91
frame_height:5
frame:int((self.hp*100/self.maxHp)/(100/${totalFrames}))
yOffsetAbsolute:50

[decal_fullConstuction]
onlyPlayersWithUnitControl:true
onlyTeam:ally
layer: afterBody
total_frames:3
image: defilerMound.png
teamColors:true
onlyInPreview: true