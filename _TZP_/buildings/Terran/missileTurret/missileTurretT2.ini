[core]
copyFrom:ROOT:/DATA/total/baseAttack.template, ROOT:/DATA/total/debuffs.template, ROOT:/DATA/Terran/buildings.template, ROOT:/DATA/total/customUI.template
name: MissileTurretT2
tags:detector,building,mech
class: CustomUnitMetadata
price:Minerals=700,Gas=300
maxHp: 1800	
mass: 9000
armour:2
displayText_ru:Ракетная турель
displayText:Missile turret T2
displayDescription_ru: ДЕТЕКТОР
displayDescription: Detects cloaked Units\n-Strong AA attack, no ground attack
fogOfWarSightRange:17
footprint: -1,-1,1,1
constructionFootprint:-1,-1,1,1
buildingToFootprintOffsetX:10
buildingToFootprintOffsetY:10
techLevel: 1
buildSpeed: 14
radius: 40
isBuilder: true
nanoRange: 0
isBuilding: true
isBio: true
hideScorchMark: false
effectOnDeath:CUSTOM:corpse

[effect_corpse]
alwayStartDirAtZero:true
attachedToUnit: false
life: 120
alpha: 12
image:ROOT:/DATA/Terran/death.png
alsoPlaySound:ROOT:/DATA/total/buildingExplode.wav
priority: critical
drawUnderUnits:false
animateFrameStart:0
animateFrameEnd:11
animateFrameSpeed:0.2
frame_width:  252
frame_height: 200

[effect_sparks]
alwayStartDirAtZero:true
attachedToUnit: false
life: 100
alpha: 10
image:ROOT:/DATA/Terran/units/explode.png
priority: critical
drawUnderUnits:false
total_frames:10
animateFrameStart:0
animateFrameEnd:9
animateFrameSpeed:0.2

[effect_smoke]
alwayStartDirAtZero:true
attachedToUnit: false
life: 80
alpha: 8
hSpeed: 0
image:ROOT:/DATA/Terran/units/smoke.png
priority: critical
drawUnderUnits:false
total_frames:8
animateFrameStart:0
animateFrameEnd:7
animateFrameSpeed:0.2
scaleFrom:1
scaleTo:1

[action_clear]
isVisible:true
isActive:true
buildSpeed:1s
price:0
text_ru:Уничтожить
text:Delete
iconImage:ROOT:/DATA/total/delete.png
addResources:hp=-1500
ai_isDisabled:true

[action_Convert_T3]
convertTo: MissileTurretT3
price:Minerals=1500,Gas=300
buildSpeed: 59s
text: T3
description: Converts into T3 Turret
descriptionAddUnitStats: ${section.convertTo}
pos: 1


[decal_fire]
@copyFromSection: template_fire
isVisible: if self.hp<self.maxHp*0.85
image:ROOT:/DATA/Terran/fire2.png
frame: select(self.hp<self.maxHp*0.5,12,0)+(self.timeAlive*12%12)
xOffsetAbsolute:-3
yOffsetAbsolute:-8

[graphics]
drawLayer:experimentals
image: missileTurret.png
image_wreak:ROOT:/DATA/Terran/dead.png
image_shadow:shadow.png
shadowOffsetX:0
shadowOffsetY:0
rotate_with_direction: false
animation_direction_units: 0
animation_direction_strideX:0
animation_direction_strideY:0
frame_width:  128
frame_height: 128

[attack]
canAttack: true
canAttackFlyingUnits: true
canAttackLandUnits:   false
canAttackUnderwaterUnits: false
turretSize: 12
turretTurnSpeed: 6
isFixedFiring: true
maxAttackRange: 320
shootDelay:0.5s
showRangeUIGuide:true

[turret_1]
canAttackCondition: if numberOfUnitsInNeutralTeam(withTag='disruptionWeb',withinRange=120)<=0
x: 0
y: 0
barrelHeight: 10
shoot_sound:ROOT:/DATA/Terran/rocket.wav
shoot_sound_vol:0.2
shoot_flame:NONE

[projectile_1]
directDamage: 48
areaDamage: 35
areaRadius:45
life: 240
speed: 4
targetSpeed: 8
explodeEffect:CUSTOM:sparks
explodeEffectOnShield:CUSTOM:sparks
image:ROOT:/DATA/Terran/units/rocket.png
trailEffect:CUSTOM:smoke
trailEffectRate:6
mutator1_ifUnitWithTags:M
mutator1_directDamageMultiplier:0.75
mutator2_ifUnitWithTags:S
mutator2_directDamageMultiplier:0.5

[movement]
movementType: BUILDING
moveSpeed: 0
moveAccelerationSpeed: 4.07
moveDecelerationSpeed: 4.12
maxTurnSpeed: 6.5
turnAcceleration: 4.06

[ai]
buildPriority: 0.09
noneInBaseExtraPriority: 0.09
noneGlobalExtraPriority: 0.09
maxEachBase: 3
recommendedInEachBaseNum: 2
upgradedFrom: buildTurret

[animation_idle]
onActions: idle
body_0s: {frame:0}
body_1.125s: {frame:15}
body_1.2s: {frame:15}
direction_units: 0
direction_strideX:0
direction_strideY:0

[animation_attack]
onActions: attack
body_0s: {frame:0}
body_0.4s: {frame:0}
body_0.56s: {frame:0}
direction_units: 22.5
direction_strideX:1
direction_strideY:0
direction_starting:180

[decal_grn_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByOwnPlayer:true
image:ROOT:/DATA/total/circle_med_grn.png
yOffsetAbsolute:5

[decal_red_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByEnemyPlayer:true
image:ROOT:/DATA/total/circle_med_red.png
yOffsetAbsolute:5

[decal_yellow_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByAllyNotOwnPlayer:true
image:ROOT:/DATA/total/circle_med_yell.png
yOffsetAbsolute:5

[decal_hp]
@copyFromSection: template_customBar
@define totalFrames:16
image:ROOT:/DATA/total/hp_17.png
frame_width:52
frame_height:5
frame:int((self.hp*100/self.maxHp)/(100/${totalFrames}))
yOffsetAbsolute:28