[core]
copyFrom:ROOT:/DATA/Zerg/buildZergUnits.template,ROOT:/DATA/total/baseAttack.template, ROOT:/DATA/total/debuffs.template, ROOT:/DATA/total/customUI.template
showInEditor: false
name: CocoonHive
tags: Lair,resourceDropoff,building,Hatchery,main
showActionsWithMixedSelectionIfOtherUnitsHaveTag: resourceDropoff
class: CustomUnitMetadata
price:0
maxHp: 2500
selfRegenRate:0.01
generation_resources:energy=-0.25
generation_delay:10
mass: 9000
armour:1
energyMax: 75
energyRegen: 0
hideScorchMark: true
fogOfWarSightRange:20
displayText_ru: Улей
displayText: Hive
footprint: -3,-2,2,2
constructionFootprint:-3,-2,2,2
buildingToFootprintOffsetX:0
buildingToFootprintOffsetY:0
techLevel: 1
buildSpeed: 1
selfBuildRate: 1
radius: 70
isBuilder: true
nanoRange: 0
isBuilding: true
isBio: true
numBitsOnDeath: 12
isUnrepairableUnit: true
effectOnDeath: CUSTOM:corpse
borrowResourcesWhileAlive:supply=-1, maxSupply=-1

[hiddenAction_creep]
autoTrigger: true
takeResources: energy=-2
takeResources_includeUnitsWithinRange: 300
takeResources_excludeUnitsWithoutTags: creep
takeResources_discardCollected: true
takeResources_maxUnits: 60
takeResources_includeUnitsWithinRange_team: neutral

[action_clear]
isVisible: if self.resource(type="select",equalTo=0)
pos: -0.1
isActive:true
price:0
text_ru:Отмена
text:Cancel
iconImage:ROOT:/DATA/total/delete.png
addResources:Minerals=150,Gas=112
convertTo:Lair
ai_isDisabled:true
highPriorityQueue: true
buildSpeed: 0.3s
whenBuilding_playAnimation:buildEnd
spawnEffects:CUSTOM:buildEnd
canPlayerCancel:false
allowMultipleInQueue:false

[effect_corpse]
alwayStartDirAtZero:true
attachedToUnit: false
life: 120
alpha: 12
image:ROOT:/DATA/Zerg/death.png
priority: critical
drawUnderUnits:false
total_frames:12
animateFrameStart:0
animateFrameEnd:11
animateFrameSpeed:0.2
alsoPlaySound:ROOT:/DATA/Zerg/vomit.ogg
frame_width:  200
frame_height: 200

[hiddenAction_life_Time]
autoTrigger: if self.queueSize(lessThan=1) and self.energy(empty=true)
alsoQueueAction:life_Time_2

[hiddenAction_life_Time_2]
buildSpeed: 0.3s
convertTo: Hive
spawnEffects:CUSTOM:buildEnd
whenBuilding_playAnimation:buildEnd

[effect_buildEnd]
alwayStartDirAtZero:true
attachedToUnit: false
life: 30
alpha: 3
hSpeed: 0
image:ROOT:/DATA/Zerg/buildEnd_3.png
priority: critical
drawUnderUnits:false
total_frames:3
animateFrameStart:0
animateFrameEnd:2
animateFrameSpeed:0.2
scaleFrom: 1
scaleTo: 1

[graphics]
imageScale: 1
image:ROOT:/DATA/Zerg/cocoon_3.png
image_back:   NONE
image_wreak:ROOT:/DATA/Zerg/dead2.png
image_turret: NONE
drawLayer:experimentals
showEnergyBar:false
showTransportBar:false
image_shadow:ROOT:/DATA/Zerg/shadow_cocoon_3.png
image_shadow_frames:true
shadowOffsetX:0
shadowOffsetY:0
animation_idle_start: 0
animation_idle_end: 5
animation_idle_speed: 7
frame_width:  160
frame_height: 192

[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false
maxAttackRange: 0

[movement]
movementType: NONE

[ai]
buildPriority: 0.14
noneInBaseExtraPriority: 0.14
noneGlobalExtraPriority: 0.14
maxEachBase: 1
maxGlobal: 1
upgradedFrom: CocoonHatchery

[animation_buildEnd]
body_0s: {frame:6}
body_0.1s: {frame:7}
body_0.2s: {frame:8}
body_0.3s: {frame:9}

[hiddenAction_debuff_ensnare]
@copyFrom_skipThisSection: true

[hiddenAction_removeDebuff_ensnare]
@copyFrom_skipThisSection: true

[hiddenAction_debuff_lockdown]
@copyFrom_skipThisSection: true

[hiddenAction_removeDebuff_lockdown]
@copyFrom_skipThisSection: true

[hiddenAction_debuff_stasis]
@copyFrom_skipThisSection: true

[hiddenAction_removeDebuff_stasis]
@copyFrom_skipThisSection: true

[hiddenAction_debuff_maelstrom]
@copyFrom_skipThisSection: true

[hiddenAction_debuff_maelstrom_effect]
@copyFrom_skipThisSection: true

[hiddenAction_removeDebuff_maelstrom]
@copyFrom_skipThisSection: true

[effect_ensnare_goo]
@copyFrom_skipThisSection: true

[effect_plague_goo]
image:ROOT:/DATA/total/plague_goo_3.png

[decal_grn_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByOwnPlayer:true
image:ROOT:/DATA/total/circle_bldng_grn_2.png
yOffsetAbsolute:10

[decal_red_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByEnemyPlayer:true
image:ROOT:/DATA/total/circle_bldng_red_2.png
yOffsetAbsolute:10

[decal_yellow_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByAllyNotOwnPlayer:true
image:ROOT:/DATA/total/circle_bldng_yell_2.png
yOffsetAbsolute:10

[decal_hp]
@copyFromSection: template_customBar
@define totalFrames:35
image:ROOT:/DATA/total/hp_36.png
frame_width:109
frame_height:5
frame:int((self.hp*100/self.maxHp)/(100/${totalFrames}))
yOffsetAbsolute:59