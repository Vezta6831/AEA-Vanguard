[core]
copyFrom:ROOT:/DATA/Zerg/buildings.template, ROOT:/DATA/Zerg/buildZergUnits.template, ROOT:/DATA/total/customUI.template
name: Hatchery
tags: Hatchery, resourceDropoff, building, main
showActionsWithMixedSelectionIfOtherUnitsHaveTag: resourceDropoff
maxHp: 2400
energyMax: 2
energyRegen: 0
armour:1
displayText: Hatchery
displayDescription:-Used for creation of every Zerg Unit\n-Spreads Creep\n-Resource Drop off\n-Generates up to 3 larvae\n-Build multiple of these for greater unit production
footprint: -3,-2,2,2
constructionFootprint:-3,-2,2,2
buildingToFootprintOffsetX:0
buildingToFootprintOffsetY:0
radius: 70
soundOnNewSelection:Hatchery.ogg:0.3
borrowResourcesWhileAlive:supply=-1, maxSupply=-1
isBuilder:true
nanoRange:275
isBuilding: true
isBio: true


[canBuild_1]
name: buildertzp
pos: 1

[canBuild_mineral]
name: Crystals_4
price: Minerals=1200,Gas=350
pos: 14

[hiddenAction_spawnCreep]
autoTriggerOnEvent:created
spawnUnits: creep(offsetX=0,offsetY=0), creep(offsetX=70,offsetY=70), creep(offsetX=-70,offsetY=70), creep(offsetX=70,offsetY=-70), creep(offsetX=-70,offsetY=-70), creep(offsetX=0,offsetY=140,skipIfOverlapping=true), creep(offsetX=0,offsetY=-140,skipIfOverlapping=true), creep(offsetX=-140,offsetY=0,skipIfOverlapping=true), creep(offsetX=140,offsetY=0,skipIfOverlapping=true), creep(offsetX=140,offsetY=140,skipIfOverlapping=true), creep(offsetX=-140,offsetY=140,skipIfOverlapping=true), creep(offsetX=140,offsetY=-140,skipIfOverlapping=true), creep(offsetX=-140,offsetY=-140,skipIfOverlapping=true), creep(offsetX=70,offsetY=210,skipIfOverlapping=true), creep(offsetX=-70,offsetY=210,skipIfOverlapping=true), creep(offsetX=70,offsetY=-210,skipIfOverlapping=true), creep(offsetX=-70,offsetY=-210,skipIfOverlapping=true), creep(offsetX=210,offsetY=70,skipIfOverlapping=true), creep(offsetX=-210,offsetY=70,skipIfOverlapping=true), creep(offsetX=210,offsetY=-70,skipIfOverlapping=true), creep(offsetX=-210,offsetY=-70,skipIfOverlapping=true), creep(offsetX=280,offsetY=0,skipIfOverlapping=true), creep(offsetX=-280,offsetY=0,skipIfOverlapping=true)

[hiddenAction_creep]
autoTrigger: true
takeResources: energy=-2
takeResources_includeUnitsWithinRange: 300
takeResources_excludeUnitsWithoutTags: creep
takeResources_discardCollected: true
takeResources_maxUnits: 60
takeResources_includeUnitsWithinRange_team: neutral

[decal_blood]
@copyFromSection: template_blood
isVisible: if self.hp<self.maxHp*0.85
image:ROOT:/DATA/Zerg/blood3.png
frame: select(self.hp<self.maxHp*0.7,6,0)+(self.timeAlive*12%6)
xOffsetAbsolute:21
yOffsetAbsolute:-9

[decal_blood_2]
@copyFromSection: template_blood
isVisible: if self.hp<self.maxHp*0.55
image:ROOT:/DATA/Zerg/blood4.png
frame: select(self.hp<self.maxHp*0.4,6,0)+(self.timeAlive*12%6)
xOffsetAbsolute:-17
yOffsetAbsolute:-17

[action_clear]
isVisible: if self.resource(type='select',equalTo=0)
isActive: if self.resource(type='select',equalTo=0)
addResources:hp=-9999

[action_burrowUpgrade]
isVisible: if not self.globalTeamTags(includes='LairLurk') and self.resource(type='select',equalTo=0)
isActive: if not self.globalTeamTags(includes='LairLurk') and self.resource(type='select',equalTo=0)
displayType: upgrade
price:Minerals=250,Gas=150
text_ru: Улучшение
text: Upgrade
description_ru: Закопка\n Позволяет Рабочим, Зерглингам, Гидралискам и Осквернителям закапываться под землю
description: Burrow\n Give Drones, Zerglings, Hydralisks and Defilers the ability to burrow
buildSpeed: 50s
playSoundToPlayer:ROOT:/DATA/Zerg/upgrade.wav:0.4
onlyOneUnitAtATime: true
iconImage:ROOT:/DATA/Zerg/burrow.png
allowMultipleInQueue:false
addGlobalTeamTags:LairLurk
ai_isDisabled:true
pos: 0.3

[action_lair]
isVisible: if self.resource(type='select',equalTo=0) and not self.globalTeamTags(includes='LairLocked')
isLocked: if not self.hasUnitInTeam(withTag='SpawningPool')
isLockedMessage_ru:Требуется:\n  >Омут рождения
isLockedMessage:Requires:\n  >Spawning pool
isLockedAlt: if self.hasUnitInTeam(withTag='Lair') and self.isControlledByAI()
convertTo: CocoonLair
displayType: upgrade
price:Minerals=400,Gas=400
text_ru: Логово
text: Lair
description_ru:Мутировать в Логово
description:Morph to the Lair
buildSpeed: 0s
ai_isHighPriority:true
addResources:energy=63
iconImage:lair_icon.png
pos: 0.4

[graphics]
image_offsetY:-22
total_frames: 4
imageScale: 1
image: hatchery.png
image_back:   NONE
image_wreak:ROOT:/DATA/Zerg/dead2.png
image_turret: NONE
showTransportBar:false
showEnergyBar:false
image_shadow:shadow.png
shadowOffsetX:-3
shadowOffsetY:2
animation_idle_start: 0
animation_idle_end: 3
animation_idle_speed: 8

[ai]
buildPriority: 0.14
noneInBaseExtraPriority: 0.14
noneGlobalExtraPriority: 0.14
maxEachBase: 3
upgradedFrom: CocoonHatchery
recommendedInEachBaseNum: 2

[decal_grn_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByOwnPlayer:true
image:ROOT:/DATA/total/circle_bldng_grn_2.png
yOffsetAbsolute:10

[decal_red_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByEnemyPlayer:true
image:ROOT:/DATA/total/circle_bldng_red_2.png
yOffsetAbsolute:10

[decal_yellow_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByAllyNotOwnPlayer:true
image:ROOT:/DATA/total/circle_bldng_yell_2.png
yOffsetAbsolute:10

[decal_hp]
@copyFromSection: template_customBar
@define totalFrames:35
image:ROOT:/DATA/total/hp_36.png
frame_width:109
frame_height:5
frame:int((self.hp*100/self.maxHp)/(100/${totalFrames}))
yOffsetAbsolute:59