[core]
copyFrom:ROOT:/DATA/Zerg/buildings.template, ROOT:/DATA/Zerg/zergUpgrades.template, ROOT:/DATA/total/customUI.template
name: Evolution
tags: Evolution,building,EvolutionAI
maxHp: 2500
armour:1
displayText_ru: Эволюционная камера
displayText: Evolution chamber
displayDescription: -Upgrades for ground units\n-Allows for morphing of spore colonies from creep colonies\n-Spore colonies detect invisible units and are AA\n-Can be used as a wall
footprint: -2,-2,2,1
constructionFootprint:-2,-2,2,1
buildingToFootprintOffsetX:10
buildingToFootprintOffsetY:0
radius: 60
effectOnDeath: CUSTOM:corpse
soundOnNewSelection:Evolution.ogg:0.3

[decal_blood]
@copyFromSection: template_blood
isVisible: if self.hp<self.maxHp*0.85
image:ROOT:/DATA/Zerg/blood3.png
frame: select(self.hp<self.maxHp*0.75,6,0)+(self.timeAlive*12%6)
xOffsetAbsolute:5
yOffsetAbsolute:4

[decal_blood_2]
@copyFromSection: template_blood
isVisible: if self.hp<self.maxHp*0.65
image:ROOT:/DATA/Zerg/blood2.png
frame: select(self.hp<self.maxHp*0.55,6,0)+(self.timeAlive*12%6)
xOffsetAbsolute:-30
yOffsetAbsolute:11

[decal_blood_3]
@copyFromSection: template_blood
isVisible: if self.hp<self.maxHp*0.5
image:ROOT:/DATA/Zerg/blood4.png
frame: select(self.hp<self.maxHp*0.4,6,0)+(self.timeAlive*12%6)
xOffsetAbsolute:14
yOffsetAbsolute:-18

[action_clear]
addResources:hp=-1500

[action_armorT2]
isVisible: if self.resource(type='ZergGroundCarapace',equalTo=0)
isActive: if self.resource(type='ZergGroundCarapace',equalTo=0)
displayType: upgrade
price:Minerals=225,Gas=225
text_ru: Улучшение
text: Upgrade
description_ru: Панцирь\n Увеличивает защиту у наземных зергов
description: Carapace\n Increases the armor value of all Zerg ground forces
buildSpeed: 80s
highPriorityQueue: true
playSoundToPlayer:ROOT:/DATA/Zerg/upgrade.wav:0.4
onlyOneUnitAtATime: true
iconImage:groundCarapace.png
allowMultipleInQueue:false
ai_isHighPriority:true
resourceAmount: ZergGroundCarapace
resourceAmount_setValue: 1

[action_armorT3]
@copyFromSection: action_armorT2
isVisible: if self.resource(type='ZergGroundCarapace',equalTo=1)
isActive: if self.resource(type='ZergGroundCarapace',equalTo=1)
isLocked: if not self.hasUnitInTeam(withTag='Lair')
isLockedMessage_ru:Требуется:\n  >Логово
isLockedMessage:Requires:\n  >Lair
price:Minerals=550,Gas=550
description_ru: Панцирь\n След.уровень: 2\n Увеличивает защиту у наземных зергов
description: Carapace\n Next level: 2\n Increases the armor value of all Zerg ground forces
buildSpeed: 85s
resourceAmount_setValue: 2

[action_armorT4]
@copyFromSection: action_armorT2
isVisible: if self.resource(type='ZergGroundCarapace',equalTo=2)
isActive: if self.resource(type='ZergGroundCarapace',equalTo=2)
isLocked: if not self.hasUnitInTeam(withTag='Hive')
isLockedMessage_ru:Требуется:\n  >Улей
isLockedMessage:Requires:\n  >Hive
price:Minerals=1000,Gas=1000
description_ru: Панцирь\n След.уровень: 3\n Увеличивает защиту у наземных зергов
description: Carapace\n Next level: 3\n Increases the armor value of all Zerg ground forces
buildSpeed: 95s
resourceAmount_setValue: 3

[action_meleeAttackT2]
@copyFromSection: action_armorT2
isVisible: if self.resource(type='ZergMeleeAttack',equalTo=0)
isActive: if self.resource(type='ZergMeleeAttack',equalTo=0)
price: Minerals=250,Gas=225
iconImage:meleeAttack.png
description_ru: Ближняя атака\n Увеличивает урон у Зерглингов, Ультралисков и Брудлингов
description:Melee attack\n Increases the attack damage of Zerglings, Ultralisks, and Broodlings
resourceAmount: ZergMeleeAttack
resourceAmount_setValue: 1
buildSpeed: 80s

[action_meleeAttackT3]
@copyFromSection: action_armorT2
isVisible: if self.resource(type='ZergMeleeAttack',equalTo=1)
isActive: if self.resource(type='ZergMeleeAttack',equalTo=1)
isLocked: if not self.hasUnitInTeam(withTag='Lair')
isLockedMessage_ru:Требуется:\n  >Логово
isLockedMessage:Requires:\n  >Lair
price:Minerals=600,Gas=475
iconImage:meleeAttack.png
description_ru: Ближняя атака\n След.уровень: 2\n Увеличивает урон у Зерглингов, Ультралисков и Брудлингов
description:Melee attack\n Next level: 2\n Increases the attack damage of Zerglings, Ultralisks, and Broodlings
buildSpeed: 85s
resourceAmount: ZergMeleeAttack
resourceAmount_setValue: 2

[action_meleeAttackT4]
@copyFromSection: action_armorT2
isVisible: if self.resource(type='ZergMeleeAttack',equalTo=2)
isActive: if self.resource(type='ZergMeleeAttack',equalTo=2)
isLocked: if not self.hasUnitInTeam(withTag='Hive')
isLockedMessage_ru:Требуется:\n  >Улей
isLockedMessage:Requires:\n  >Hive
price:Minerals=1200,Gas=950
iconImage:meleeAttack.png
description_ru: Ближняя атака\n След.уровень: 3\n Увеличивает урон у Зерглингов, Ультралисков и Брудлингов
description:Melee attack\n Next level: 3\n Increases the attack damage of Zerglings, Ultralisks, and Broodlings
buildSpeed: 95s
resourceAmount: ZergMeleeAttack
resourceAmount_setValue: 3

[action_rangeAttackT2]
@copyFromSection: action_armorT2
isVisible: if self.resource(type='ZergRangeAttack',equalTo=0)
isActive: if self.resource(type='ZergRangeAttack',equalTo=0)
price:Minerals=250,Gas=200
iconImage:rangeAttack.png
description_ru: Дистанционная атака\n Увеличивает урон у Гидралисков
description:Range attack\n Increases the attack damage of Hydralisks
buildSpeed: 80s
resourceAmount: ZergRangeAttack
resourceAmount_setValue: 1

[action_rangeAttackT3]
@copyFromSection: action_armorT2
isVisible: if self.resource(type='ZergRangeAttack',equalTo=1)
isActive: if self.resource(type='ZergRangeAttack',equalTo=1)
isLocked: if not self.hasUnitInTeam(withTag='Lair')
isLockedMessage_ru:Требуется:\n  >Логово
isLockedMessage:Requires:\n  >Lair
price:Minerals=650,Gas=475
iconImage:rangeAttack.png
description_ru: Дистанционная атака\n След.уровень: 2\n Увеличивает урон у Гидралисков
description:Range attack\n Next level: 2\n Increases the attack damage of Hydralisks
buildSpeed: 85s
resourceAmount: ZergRangeAttack
resourceAmount_setValue: 2

[action_rangeAttackT4]
@copyFromSection: action_armorT2
isVisible: if self.resource(type='ZergRangeAttack',equalTo=2)
isActive: if self.resource(type='ZergRangeAttack',equalTo=2)
isLocked: if not self.hasUnitInTeam(withTag='Hive')
isLockedMessage_ru:Требуется:\n  >Улей
isLockedMessage:Requires:\n  >Hive
price:Minerals=1300,Gas=950
iconImage:rangeAttack.png
description_ru: Дистанционная атака\n След.уровень: 3\n Увеличивает урон у Гидралисков
description:Range attack\n Next level: 3\n Increases the attack damage of Hydralisks
buildSpeed: 95s
resourceAmount: ZergRangeAttack
resourceAmount_setValue: 3

[graphics]
total_frames: 3
image:  evolutionChamber.png
image_back:   NONE
image_wreak:ROOT:/DATA/Zerg/dead.png
image_turret: NONE
drawLayer:experimentals
image_shadow:shadow.png
shadowOffsetX:1
shadowOffsetY:14
animation_idle_start: 0
animation_idle_end: 2
animation_idle_speed: 8

[ai]
maxEachBase: 2
maxGlobal: 2
upgradedFrom: CocoonEvolution

[decal_grn_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByOwnPlayer:true
image:ROOT:/DATA/total/circle_bldng_grn.png
yOffsetAbsolute:10

[decal_red_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByEnemyPlayer:true
image:ROOT:/DATA/total/circle_bldng_red.png
yOffsetAbsolute:10

[decal_yellow_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByAllyNotOwnPlayer:true
image:ROOT:/DATA/total/circle_bldng_yell.png
yOffsetAbsolute:10

[decal_hp]
@copyFromSection: template_customBar
@define totalFrames:29
image:ROOT:/DATA/total/hp_30.png
frame_width:91
frame_height:5
frame:int((self.hp*100/self.maxHp)/(100/${totalFrames}))
yOffsetAbsolute:50