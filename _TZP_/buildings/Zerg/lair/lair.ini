[core]
copyFrom:ROOT:/DATA/Zerg/buildings.template, ROOT:/DATA/Zerg/buildZergUnits.template, ROOT:/DATA/total/customUI.template
name: Lair
tags: Hatchery, Lair, resourceDropoff, building, main
showActionsWithMixedSelectionIfOtherUnitsHaveTag: resourceDropoff
maxHp: 3000
armour:1
displayText_ru: Логово
displayText: Lair
displayDescription: -Tech upgrade for the zerg\n-Allows for greater units and structures\n-Contains more upgrades
footprint: -3,-2,2,2
constructionFootprint:-3,-2,2,2
buildingToFootprintOffsetX:0
buildingToFootprintOffsetY:0
radius: 70
soundOnNewSelection:Lair.ogg:0.3
borrowResourcesWhileAlive:supply=-1, maxSupply=-1
isBuilder: true
nanoRange: 275
isBuilding: true
isBio: true



[canBuild_mineral]
name: Crystals_4
price: Minerals=1200,Gas=350
pos: 14


[canBuild_1]
name: buildertzp
pos: 1

[hiddenAction_spawnCreep]
autoTriggerOnEvent:created
spawnUnits: creep(offsetX=0,offsetY=0), creep(offsetX=70,offsetY=70), creep(offsetX=-70,offsetY=70), creep(offsetX=70,offsetY=-70), creep(offsetX=-70,offsetY=-70), creep(offsetX=0,offsetY=140,skipIfOverlapping=true), creep(offsetX=0,offsetY=-140,skipIfOverlapping=true), creep(offsetX=-140,offsetY=0,skipIfOverlapping=true), creep(offsetX=140,offsetY=0,skipIfOverlapping=true), creep(offsetX=140,offsetY=140,skipIfOverlapping=true), creep(offsetX=-140,offsetY=140,skipIfOverlapping=true), creep(offsetX=140,offsetY=-140,skipIfOverlapping=true), creep(offsetX=-140,offsetY=-140,skipIfOverlapping=true), creep(offsetX=70,offsetY=210,skipIfOverlapping=true), creep(offsetX=-70,offsetY=210,skipIfOverlapping=true), creep(offsetX=70,offsetY=-210,skipIfOverlapping=true), creep(offsetX=-70,offsetY=-210,skipIfOverlapping=true), creep(offsetX=210,offsetY=70,skipIfOverlapping=true), creep(offsetX=-210,offsetY=70,skipIfOverlapping=true), creep(offsetX=210,offsetY=-70,skipIfOverlapping=true), creep(offsetX=-210,offsetY=-70,skipIfOverlapping=true), creep(offsetX=280,offsetY=0,skipIfOverlapping=true), creep(offsetX=-280,offsetY=0,skipIfOverlapping=true)

[hiddenAction_creep]
autoTrigger: true
takeResources: energy=-2
takeResources_includeUnitsWithinRange: 300
takeResources_excludeUnitsWithoutTags: creep
takeResources_discardCollected: true
takeResources_maxUnits: 60
takeResources_includeUnitsWithinRange_team: neutral

[decal_blood]
@copyFromSection: template_blood
isVisible: if self.hp<self.maxHp*0.85
image:ROOT:/DATA/Zerg/blood2.png
frame: select(self.hp<self.maxHp*0.75,6,0)+(self.timeAlive*12%6)
xOffsetAbsolute:4
yOffsetAbsolute:-7

[decal_blood_2]
@copyFromSection: template_blood
isVisible: if self.hp<self.maxHp*0.65
image:ROOT:/DATA/Zerg/blood3.png
frame: select(self.hp<self.maxHp*0.55,6,0)+(self.timeAlive*12%6)
xOffsetAbsolute:41
yOffsetAbsolute:-37

[decal_blood_3]
@copyFromSection: template_blood
isVisible: if self.hp<self.maxHp*0.5
image:ROOT:/DATA/Zerg/blood4.png
frame: select(self.hp<self.maxHp*0.4,6,0)+(self.timeAlive*12%6)
xOffsetAbsolute:-55
yOffsetAbsolute:-45

[action_clear]
isVisible: if self.resource(type='select',equalTo=0)
isActive: if self.resource(type='select',equalTo=0)
addResources:hp=-9999

[action_burrowUpgrade]
isVisible: if not self.globalTeamTags(includes='LairLurk') and self.resource(type='select',equalTo=0)
isActive: if not self.globalTeamTags(includes='LairLurk') and self.resource(type='select',equalTo=0)
displayType: upgrade
price:Minerals=450,Gas=400
text_ru: Улучшение
text: Upgrade
description_ru: Закопка\n Позволяет Рабочим, Зерглингам, Гидралискам и Осквернителям закапываться под землю
description: Burrow\n Give Drones, Zerglings, Hydralisks and Defilers the ability to burrow
buildSpeed: 50s
playSoundToPlayer:ROOT:/DATA/Zerg/upgrade.wav:0.4
onlyOneUnitAtATime: true
iconImage:ROOT:/DATA/Zerg/burrow.png
allowMultipleInQueue:false
addGlobalTeamTags:LairLurk
ai_isHighPriority:true
pos: 0.3

[action_ventralSacs]
isVisible: if not self.globalTeamTags(includes='VentralSacs') and self.resource(type='select',equalTo=0)
isActive: if not self.globalTeamTags(includes='VentralSacs') and self.resource(type='select',equalTo=0)
displayType: upgrade
price:Minerals=350,Gas=150
text_ru: Улучшение
text: Upgrade
description_ru: Брюшные мешки\n Позволяет Надзирателям перевозить наземных юнитов
description: Ventral sacs\n Gives Overlords the ability to transport units
buildSpeed: 45s
ai_isHighPriority:true
playSoundToPlayer:ROOT:/DATA/Zerg/upgrade.wav:0.4
onlyOneUnitAtATime: true
iconImage:ventralSacs.png
allowMultipleInQueue:false
addGlobalTeamTags:VentralSacs
pos: 0.3

[action_antennae]
isVisible: if not self.globalTeamTags(includes='Antennae') and self.resource(type='select',equalTo=0)
isActive: if not self.globalTeamTags(includes='Antennae') and self.resource(type='select',equalTo=0)
displayType: upgrade
price:Minerals=225,Gas=150
text_ru: Улучшение
text: Upgrade
description_ru: Антенны\n Увеличивает радиус обзора Надзирателя
description: Antennae\n Increases Overlord sight range
buildSpeed: 45s
ai_isHighPriority:true
playSoundToPlayer:ROOT:/DATA/Zerg/upgrade.wav:0.4
onlyOneUnitAtATime: true
iconImage:antennae.png
allowMultipleInQueue:false
addGlobalTeamTags:Antennae
pos: 0.3

[action_pneumatizedCarapace]
isVisible: if not self.globalTeamTags(includes='PneumatizedCarapace') and self.resource(type='select',equalTo=0)
isActive: if not self.globalTeamTags(includes='PneumatizedCarapace') and self.resource(type='select',equalTo=0)
displayType: upgrade
price:Minerals=300,Gas=150
text_ru: Улучшение
text: Upgrade
description_ru: Пневматический панцирь\n Увеличивает скорость Надзирателя на 400%
description: Pneumatized carapace\n Increases Overlord movement speed by 400%
buildSpeed: 55s
ai_isHighPriority:true
playSoundToPlayer:ROOT:/DATA/Zerg/upgrade.wav:0.4
onlyOneUnitAtATime: true
iconImage:pneumatizedCarapace.png
allowMultipleInQueue:false
addGlobalTeamTags:PneumatizedCarapace
pos: 0.3

[action_hive]
isVisible: if self.resource(type='select',equalTo=0) and not self.globalTeamTags(includes='HiveLocked')
isLocked: if not self.hasUnitInTeam(withTag='QueenNest')
isLockedMessage_ru:Требуется:\n  >Гнездо королевы
isLockedMessage:Requires:\n  >Queen nest
isLockedAlt: if self.hasUnitInTeam(withTag='Hive') and self.isControlledByAI()
convertTo: CocoonHive
displayType: upgrade
price:Minerals=600,Gas=400
text_ru: Улей
text: Hive
description_ru:Мутировать в Улей
description:Morph to the Hive
buildSpeed: 0s
ai_isHighPriority:true
addResources:energy=75
iconImage:hive_icon.png
pos: 0.5

[graphics]
image_offsetY:-22
total_frames: 4
imageScale: 1
image: lair.png
image_back:   NONE
image_wreak:ROOT:/DATA/Zerg/dead2.png
image_turret: NONE
drawLayer:experimentals
showTransportBar:false
showEnergyBar:false
image_shadow:shadow.png
shadowOffsetX:0
shadowOffsetY:0
animation_idle_start: 0
animation_idle_end: 3
animation_idle_speed: 8

[ai]
buildPriority: 0.14
noneInBaseExtraPriority: 0.14
noneGlobalExtraPriority: 0.14
maxEachBase: 2
maxGlobal: 2
upgradedFrom: CocoonHatchery

[decal_grn_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByOwnPlayer:true
image:ROOT:/DATA/total/circle_bldng_grn_2.png
yOffsetAbsolute:10

[decal_red_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByEnemyPlayer:true
image:ROOT:/DATA/total/circle_bldng_red_2.png
yOffsetAbsolute:10

[decal_yellow_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByAllyNotOwnPlayer:true
image:ROOT:/DATA/total/circle_bldng_yell_2.png
yOffsetAbsolute:10

[decal_hp]
@copyFromSection: template_customBar
@define totalFrames:35
image:ROOT:/DATA/total/hp_36.png
frame_width:109
frame_height:5
frame:int((self.hp*100/self.maxHp)/(100/${totalFrames}))
yOffsetAbsolute:59