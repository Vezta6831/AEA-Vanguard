[core]
copyFrom:ROOT:/DATA/total/forcesAttack.template, ROOT:/DATA/total/customUI.template
showInEditor:false
name: lurkerCocoon
tags:M,canConsume
class: CustomUnitMetadata
price: 0
maxHp: 200
armour:10
energyMax: 20
energyRegen: -0.01666666666
mass: 500
displayText_ru:Скрытень
displayText:Lurker
techLevel: 1
buildSpeed: 0.005
radius: 13
hideScorchMark: true
displayRadius: 15
isBio: true
isBug: false
isUnrepairableUnit: true
selfRegenRate:0.01
softCollisionOnAll: 12
explodeOnDeath: false
fogOfWarSightRange:17
explodeOnDeathGroundCollosion: false
disableAllUnitCollisions:true
transportSlotsNeeded: 999
soundOnNewSelection:hydralisk_order.ogg:0.3,hydralisk_order2.ogg:0.3,hydralisk_order3.ogg:0.3,hydralisk_order4.ogg:0.3
effectOnDeath:CUSTOM:corpse

[hiddenAction_swarm]
autoTrigger: if numberOfUnitsInTeam(withTag='swarm',withinRange=120,greaterThan=0)
temporarilyAddTags: zergSwarm

[hiddenAction_notSwarm]
autoTrigger: if not numberOfUnitsInTeam(withTag='swarm',withinRange=120,greaterThan=0)
temporarilyRemoveTags: zergSwarm

[hiddenAction_life_Time]
autoTrigger: if self.queueSize(lessThan=1) and self.energy(empty=true)
playSoundToPlayer:buildEnd.wav
setBodyRotation:45
alsoQueueAction:life_Time_2

[hiddenAction_life_Time_2]
buildSpeed: 0.6s
whenBuilding_playAnimation:spawnLurker
whenBuilding_cannotMove:true
convertTo: lurker
clearAllWaypoints:true

[hiddenAction_goBackOnDamaged]
@copyFrom_skipThisSection:true

[effect_corpse]
alwayStartDirAtZero:true
attachedToUnit: false
life: 60
alpha: 6
image: cocoonDeath.png
priority: high
drawUnderUnits: true
total_frames:6
animateFrameStart:0
animateFrameEnd:5
animateFrameSpeed:0.2
alsoPlaySound:death.wav

[graphics]
image_offsetY:-7
icon_build:ROOT:/DATA/Zerg/lurker_icon.png
image:        lurkerCocoon.png
image_wreak:  dead.png
image_turret: NONE
image_shadow:NONE
animation_moving_start: 0
animation_moving_end: 11
animation_moving_speed: 8
animation_idle_start: 0
animation_idle_end: 11
animation_idle_speed: 8
rotate_with_direction:false
lock_body_rotation_with_main_turret: true
drawLayer:experimentals
showEnergyBar:false
frame_width:  71
frame_height: 61

[attack]
canAttack: false
canAttackFlyingUnits: false
canAttackLandUnits:   false
canAttackUnderwaterUnits: false
maxAttackRange:0

[movement]
moveSpeed: 0
movementType:NONE
joinsGroupFormations: false

[animation_spawnCocoon]
body_0s: {frame:12}
body_0.1s: {frame:13}
body_0.2s: {frame:14}
body_0.3s: {frame:15} 
body_0.4s: {frame:16}
body_0.5s: {frame:17}
body_0.6s: {frame:18}
body_0.7s: {frame:19}
body_0.8s: {frame:19}

[animation_spawnLurker]
body_0s: {frame:20}
body_0.1s: {frame:21}
body_0.2s: {frame:22}
body_0.3s: {frame:23} 
body_0.4s: {frame:24}
body_0.5s: {frame:25}
body_0.6s: {frame:25}

[decal_grn_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByOwnPlayer:true
image:ROOT:/DATA/total/circle_smll_grn_2.png

[decal_red_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByEnemyPlayer:true
image:ROOT:/DATA/total/circle_smll_red_2.png

[decal_yellow_circle]
@copyFromSection: template_customSelectCircle
onlyWhenSelectedByAllyNotOwnPlayer:true
image:ROOT:/DATA/total/circle_smll_yell_2.png

[decal_hp]
@copyFromSection: template_customBar
@define totalFrames:5
image:ROOT:/DATA/total/hp_6.png
frame_width:19
frame_height:5
frame:int((self.hp*100/self.maxHp)/(100/${totalFrames}))
yOffsetAbsolute:19