
[core]
name: module_demo
copyFrom: common_slot.ini

displayText: Demolition Charge
displayDescription: [Offense Module]\n-Loads a Powerful explosive device to its core\n-High damage and area of effect\n-Detonates if module is destroyed\nDamage: 1500, AoE: 180 | secondary Damage: 500, AoE: 240
displayText_ru: Заряд Взрывчатки
displayDescription_ru: [ Атакующий Модуль ] \n Устанавливает мощный заряд взрывчатки на вашу технику, при смерти наносящий большой урон войску поблизости. \n Радиус взрыва - 180, урон - 1500
displayText_zh: 炸药包
displayDescription_zh: [攻击模块]\n-将一个强大的爆炸装置加载到核心\n-高伤害和大作用区域\n-如果模块被摧毁则引爆\n伤害：1500，范围：180 | 二次伤害: 500, 范围: 240

maxHp: 1000
price: ${Mprice_XII}
disableDeathOnZeroHp: false

tags: module+

[action_detonate]
isActive: if self.tags(includes='DemoPerm')
isVisible: if self.tags(includes='DemoPerm')
buildSpeed: 0s
text: Detonate
text_ru: Активировать Заряд
text_zh: 引爆
iconImage: ROOT:data\icons\warning.png

fireTurretXAtGround: Deatch
#fireTurretXAtGround_withProjectile: Detonate
fireTurretXAtGround_withOffset: 0,250
[action_passive]
displayType: infoOnlyNoBox
isVisible: true
buildSpeed: 0s
textAddUnitName: ${core.name}
descriptionAddFromUnit: ${core.name} 
descriptionAddUnitStats: ${core.name} 
iconImage: demo.png
pos: 10

[hiddenAction_convertOnDeath]
@copyFrom_skipThisSection: true

#-----------------------------------
[hiddenAction_addTempTag]
autoTrigger: if not self.tags(includes='DemoPerm') and self.queueSize()<1
alsoQueueAction: addTag
[hiddenAction_addTag]
buildSpeed: 0.2s
temporarilyAddTags: DemoPerm
#-----------------------------------

[hiddenAction_Ondeath]
requireConditional: if self.tags(includes='DemoPerm')
autoTriggerOnEvent: destroyed
fireTurretXAtGround: Deatch
fireTurretXAtGround_withOffset: 0,250
#===================================================
[action_reclaim]
description: -Free up slot for another module type.\n-Refund ${Mprice_X*0.5} credits
description_ru: - Освободить слот для другого модуля\n- Вернёт ${Mprice_X*0.5} ресурсов.
description_zh: -为其他模块类型释放空间\n-退款${Mprice_X*0.5}资金
addResources: credits=${Mprice_X*0.5}
#===================================================
#------------fLAD
[hiddenAction_Flare]
autoTrigger: if self.customTimer(laterThanSeconds=3)
resetCustomTimer: true
spawnEffects:CUSTOM:redFlare 
[effect_redFlare]
alsoEmitEffects: CUSTOM:redFlare2, CUSTOM:redFlare3, CUSTOM:redFlare4
life: 10
lifeRandom: 5
alwayStartDirAtZero: true
image: ROOT:data/images/flareRed.png
scaleFrom: 0.1
scaleTo: 0.1
[effect_redFlare2]
@copyFromSection: effect_redFlare
alsoEmitEffects: NONE
delayedStartTimer: 10
[effect_redFlare3]
@copyFromSection: effect_redFlare
alsoEmitEffects: NONE
delayedStartTimer: 40
[effect_redFlare4]
@copyFromSection: effect_redFlare
alsoEmitEffects: NONE
delayedStartTimer: 50
#------------
[graphics]
#isVisible: if not self.hasParent()
image:        SHARED:blank.png


image_shadow: NONE
shadowOffsetX:3
shadowOffsetY:3

showEnergyBar: false
[attack]
canAttack: false
[turret_Deatch]
#dummy
x: 0
y: 0
projectile: 1
size: 0
shoot_sound:NONE
shoot_sound_vol:0
shoot_flame: NONE
canShoot: false
[projectile_1]
#nuke
tags: nuke
directDamage: 123
explodeOnEndOfLife: true
life: 0
speed: 0.1
targetSpeed: 2.7
targetSpeedAcceleration:0.02
largeHitEffect: true
frame: 0
shadowFrame:1
drawType:1
targetGround: true
areaDamage: 1600
areaRadius: 200
areaHitAirAndLandAtSameTime: true
alwaysVisibleInFog: true
areaExpandTime:75
deflectionPower:-1
shouldRevealFog:true
nukeWeapon:true
lightColor: #FFEEEE00
lightSize: 1
friendlyFire: true
spawnProjectilesOnCreate: Detonate, secondaryExplosion
[projectile_secondaryExplosion]
directDamage: 123
explodeOnEndOfLife: true
life: 0
speed: 0.1
targetSpeed: 2.7
targetSpeedAcceleration:0.02
largeHitEffect: true
frame: 0
shadowFrame:1
drawType:1
targetGround: true
areaDamage: 500
areaRadius: 240
areaHitAirAndLandAtSameTime: true
alwaysVisibleInFog: true
areaExpandTime:75
deflectionPower:-1
shouldRevealFog:true
lightColor: #FFEEEE00
lightSize: 1
friendlyFire: true


[projectile_Detonate]
#dummy
areaDamage: 99999
areaRadius: 10
life: 0
speed: 0
drawSize: 0
explodeOnEndOfLife: true
friendlyFire: true
deflectionPower:-1
[arm_1]
x:0
y:0
endDirOffset: -90
image_end:demo.png
drawOverBody: true
hidden:if self.hasParent()
image_end_teamColors: true


