
[core]
#availableInDemo:      true
#transportSlotsNeeded: 0.5
autoRepair:            true
buildSpeed:            8.7s
canReclaimResources:   true
canRepairBuildings:    true
canRepairUnits:        true
class:                 CustomUnitMetadata
displayDescription:    - Cannot attack\n - Heals nearby units\n- Can build barracks and walls\n- Can Plant, Detonate, and Disarm mines\n- Can also see enemy mines\n- Can disarm any mine witin Small Circle\n- Can detonate own mines in Large Circle
displayRadius:         7
displayText:           Engineer
isBio:                 true
mass:                  3000
maxHp:                 80
name:                  infantryEngineer
nanoRange:             80
nanoRepairSpeed:       0.2
price:                 500
radius:                5
selfRegenRate:         0.2
softCollisionOnAll:    9
tags:                  EkInfantry, Infantry, infantry, Engineer
techLevel:             2


[canBuild_Filler]
forceNano: true
isLocked:  false
name:      reclaim
pos:       -1


[canBuild_Landmine]
forceNano: true
name:      barracks, landmine, wall
pos:       1


[action_focusDetonator]
addActionCooldownTime:                   1s
allowMultipleInQueue:                    false
buildSpeed:                              0
description:                             -Detonate all remote landmine in the target area\n-Radius: 150, cast range: Global\n-Note: You have to manually deactivate AutoDetonate
displayType:                             action
fireTurretXAtGround:                     detonator
iconImage:                               ROOT:data/icons/warning.png
isLocked:                                if not numberOfUnitsInTeam(greaterThan=0, withTag='mineOff')
isLockedMessage:                         No deactivated landmine available
pos:                                     2
text:                                    Focus Detonator
whenBuilding_rotateTo_aimAtActionTarget: true


# Repair Turret
[turret_detonator]
canAttackFlyingUnits:     false
canAttackLandUnits:       false
canAttackUnderwaterUnits: false
canShoot:                 false
delay:                    0
invisible:                true
limitingRange:            9999
projectile:               detonatorSpawner
size:                     0
turnSpeed:                100
warmup:                   0
x:                        0
y:                        0


# Dummy
[projectile_detonatorSpawner]
directDamage:  0
drawSize:      0
explodeEffect: NONE
instant:       true
life:          0
spawnUnit:     focusDetonator
speed:         0


[action_DiffuseLandmind]
addActionCooldownTime: 6s
alsoQueueAction:       diffusingLandMines
buildSpeed:            0s
description:           - Disarm enemy mines safely \n- Must be within 350 range of land mine\n NOTE: MINES WILL STILL EXPLODE IF TOO CLOSE
displayType:           action
isGuiBlinking:         if numberOfUnitsInEnemyTeam(withTag="land_mines", withinRange=350)>0
isLocked:              if numberOfUnitsInEnemyTeam(withTag="land_mines", withinRange=350)<1
isLockedAlt:           if self.queueSize(greaterThan=0)
isLockedMessage:       No active landminds within 350 range
pos:                   2
text:                  Diffuse Landmind


[hiddenAction_diffusingLandMines]
alsoQueueAction:     diffusingLandMines
buildSpeed:          0.05s
requireConditional:  if numberOfUnitsInEnemyTeam(withTag="land_mines", withinRange=350)>0
sendMessageTo:       unitref nearestUnit(withinRange=350, withTag="land_mines", relation='enemy')
sendMessageWithTags: diffuseLandmine


[graphics]
animation_moving_end:   7
animation_moving_speed: 6
animation_moving_start: 0
dustEffect:             false
image_shadow:           infantryshadow_small.png
image_turret:           medic_body.png
image_wreak:            medic_corpse.png
image:                  medic_legs.png
shadowOffsetX:          0.5
shadowOffsetY:          0.5
teamColorsOnTurret:     true
total_frames:           8


[attack]
aimOffsetSpread:          0.25
canAttack:                false
canAttackFlyingUnits:     false
canAttackLandUnits:       false
canAttackUnderwaterUnits: false
maxAttackRange:           800
shootDelay:               30
turretSize:               10
turretTurnSpeed:          6


# Gun
[turret_1]
#invisible:            true
canShoot:              false
limitingRange:         360
projectile:            1
recoilOffset:          0
shoot_light:           #33FFCC00
shoot_sound_vol:       0.2
shoot_sound:           gun_fire
showRangeUIGuide:      true
turnSpeed:             4.0
turnSpeedAcceleration: 1.0
x:                     0
y:                     0


# Gun
[turret_2]
#invisible:            true
canShoot:              false
limitingRange:         800
projectile:            1
recoilOffset:          0
shoot_light:           #33FFCC00
shoot_sound_vol:       0.2
shoot_sound:           gun_fire
showRangeUIGuide:      false
turnSpeed:             4.0
turnSpeedAcceleration: 1.0
x:                     0
y:                     0


[projectile_1]
directDamage: 7
drawSize:     0.6
frame:        11
life:         70
lightColor:   #EE66FF66
lightSize:    0.3
speed:        12


[movement]
maxTurnSpeed:          7.5
moveAccelerationSpeed: 0.05
moveDecelerationSpeed: 0.12
moveIgnoringBody:      false
movementType:          LAND
moveSlidingMode:       false
moveSpeed:             1.2
turnAcceleration:      0.75


[ai]
useAsBuilder: true

