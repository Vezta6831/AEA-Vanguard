[core]
@global               number: 0
#availableInDemo:     true
buildSpeed:           93.3s
builtFrom_1_name:     experimentalLandFactory
builtFrom_1_pos:      5.9
class:                CustomUnitMetadata
copyFrom:             ROOT:statusEffect.template, weapon.template
displayDescription:   - Experimental Tesla Hover Tank\n- Can attack ground only\n- Shoots powerful chain-lightning that bounces to other targets\n- Each new lightning branch does less damage\n- Can phase to avoid damage (cant attack while phasing)\n- Can discharge an area shockwave that pushes units\n- Weak vs buildings\n- Strong vs shields
displayRadius:        45
displayText:          Z.E.U.S
energyRegen:          99999999999999
experimental:         true
fogOfWarSightRange:   18
isBio:                false
mass:                 80000
maxHp:                8000
name:                 EAP
numBitsOnDeath:       15
price:                60000, uranium=3000
radius:               45
selfRegenRate:        0.2
softCollisionOnAll:   20
tags:                 exp, 50k, zeus, idontlikestuns
techLevel:            1
transportSlotsNeeded: 8


[action_Phase]
autoTrigger:      if self.hp(lessThan=1000) and self.isControlledByAI() and self.customTimer(laterThanSeconds=69)
buildSpeed:       0s
convertTo:        EAP-P
description:      Enters an alternate diminsion\n-Become untargetable and cannot attack\n-Cooldown: 60s
iconImage:        EAPphase.png
isActive:         true
isLocked:         if not self.customTimer(laterThanSeconds=60)
isLockedMessage:  Cooldown
isVisible:        true
pos:              1
resetCustomTimer: true
text:             Phase


# AREA SHOCK CODE
[action_areaShock]
addActionCooldownTime: 8s
allowMultipleInQueue:  false
alsoTriggerAction:     LAND, AIR
buildSpeed:            0.1s
canPlayerCancel:       false
description:           -Releases a surge of electricity around the unit\n-Damages all nearby land units\n- Only minor damage to air units\n- Blast will force away units\n-Very effective vs. shields\n-Deals 300 self damage per shock\n-Cannot be activated when under 800HP
displayType:           action
highPriorityQueue:     true
iconImage:             areaShockIcon.png
isActive:              if not self.hp(lessThan=800)
isVisible:             true
pos:                   4
price:                 hp=300
spawnEffects:          CUSTOM:selfShockSmoke*5, CUSTOM:SelfShockSpark1*4, CUSTOM:SelfShockSpark2*3, CUSTOM:SelfShockSpark3*2, CUSTOM:chargeSparks*15, CUSTOM:areaShock, CUSTOM:areaShockRays, CUSTOM:areaShock2, CUSTOM:areaShockRays2, CUSTOM:areaShockLight, CUSTOM:areaShockLight2
text:                  Area Discharge


[hiddenAction_MICROGOD]
addWaypoint_target_fromReference: createMarker(x=self.x, y=self.y, dir=direction(self.x, self.y, attacking.x, attacking.y)).getOffsetRelative(y=-40)
addWaypoint_type:                 move
allowMultipleInQueue:             false
autoTrigger:                      if self.isAttacking() and self.isControlledByAI() and self.numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=260, withTag='exp')
clearAllWaypoints:                true


[hiddenAction_LAND]
alwaysSinglePress:                          true
fireTurretXAtGround_onlyOverPassableTileOf: LAND
fireTurretXAtGround_withOffset:             0,2
fireTurretXAtGround_withProjectile:         shocker
fireTurretXAtGround:                        shock


[hiddenAction_AIR]
alwaysSinglePress:                          true
fireTurretXAtGround_onlyOverPassableTileOf: AIR
fireTurretXAtGround_withOffset:             0,2
fireTurretXAtGround_withProjectile:         airshock
fireTurretXAtGround:                        shock


[turret_shock]
canAttackFlyingUnits:     false
canAttackLandUnits:       false
canAttackUnderwaterUnits: false
canShoot:                 false
chargeEffectImage:        SHARED:lighting_charge2.png
invisible:                true
projectile:               shocker
shoot_flame:              NONE
shoot_sound_vol:          0.5
shoot_sound:              ROOT:data\soundFx\shock.ogg
size:                     0
turnSpeed:                5.0
warmup:                   0
x:                        0
y:                        0


# SHOCK LAND UNITS
[projectile_shocker]
areaDamage:                  510 
areaExpandTime:              20
areaHitAirAndLandAtSameTime: false
areaRadius:                  250
buildingDamageMultiplier:     0.5
deflectionPower:             -1
explodeEffect:               NONE
explodeEffectOnShield:       NONE
explodeOnEndOfLife:          true
instant:                     false
largeHitEffect:              false
life:                        0
pushForce:                   50000
pushVelocity:                9
shieldDamageMultiplier:      2
shieldDefectionMultiplier:   0.1
speed:                       0
tags:                        push
targetGround:                true


# SHOCK AIR UNITS
[projectile_airshock]
areaDamage:                  10 
areaExpandTime:              20
areaHitAirAndLandAtSameTime: true
areaRadius:                  250
buildingDamageMultiplier:    0.5
deflectionPower:             -1
explodeEffect:               NONE
explodeEffectOnShield:       NONE
explodeOnEndOfLife:          true
instant:                     false
largeHitEffect:              false
life:                        5
pushForce:                   50000
shieldDamageMultiplier:      2
shieldDefectionMultiplier:   0.1
speed:                       0
tags:                        push
targetGround:                false


[graphics]
icon_zoomed_out:    Jaeger.png
image_shadow:       AUTO
image_turret:       experimental_tank_turret.png
image_wreak:        experimental_tank_dead.png
image:              EAP_mainColoured.png
shadowOffsetX:      3
shadowOffsetY:      3
teamColorsOnTurret: true
total_frames:       1


[attack]
@global damage:           550
canAttack:                true
canAttackFlyingUnits:     true
canAttackLandUnits:       true
canAttackUnderwaterUnits: true
maxAttackRange:           290
shootDelay:               498
turretMultiTargeting:     false
turretSize:               10
turretTurnSpeed:          4


[turret_SpinI]
canAttackFlyingUnits:     false
canAttackLandUnits:       false
canAttackUnderwaterUnits: false
canShoot:                 false
idleDir:                  0
idleSpin:                 2
image:                    EAP_SpinII.png
turnSpeed:                100
turnSpeedAcceleration:    100
x:                        0
y:                        2.5


[turret_top]
canAttackFlyingUnits:  false
canShoot:              false
idleDir:               0
image:                 EAP_mainHollow.png
limitingAngle:         0
shoot_flame:           NONE
shoot_light:           #FFEECCCC
shoot_sound_vol:       0.3
shoot_sound:           NONE
turnSpeed:             0
turnSpeedAcceleration: 0
x:                     0
y:                     0


[turret_EAPturretBarrelHFront]
attachedTo:            base1
canAttackFlyingUnits:  false
canShoot:              true
image:                 EAP_turretBarrelHFront.png
linkDelayWithTurret:   cannonMain
projectile:            1Dumm
recoilOffset:          -9
recoilOutTime:         6
recoilReturnTime:      200
slave:                 true
turnSpeed:             0.85
turnSpeedAcceleration: 0.85
warmup:                0s
x:                     0
y:                     0


[turret_EAPturretBarr]
attachedTo:            base1
canAttackFlyingUnits:  false
canShoot:              true
image:                 EAP_turretBarr.png
linkDelayWithTurret:   cannonMain
projectile:            1Dumm
recoilOffset:          -9
recoilOutTime:         6
recoilReturnTime:      200
slave:                 true
turnSpeed:             0
turnSpeedAcceleration: 0
warmup:                0s
x:                     0
y:                     0


[turret_EAPturretBarrelH]
attachedTo:            base1
canAttackFlyingUnits:  false
canShoot:              true
image:                 EAP_turretBarrelH.png
linkDelayWithTurret:   cannonMain
projectile:            1Dumm
recoilOffset:          -9
recoilOutTime:         6
recoilReturnTime:      200
slave:                 true
turnSpeed:             0
turnSpeedAcceleration: 0
warmup:                0s
x:                     0
y:                     0


[turret_EAPturretEnergyH]
attachedTo:            base1
canAttackFlyingUnits:  false
canShoot:              true
image:                 EAP_turretEnergyH.png
linkDelayWithTurret:   cannonMain
projectile:            1Dumm
recoilOffset:          -9
recoilOutTime:         6
recoilReturnTime:      200
slave:                 true
turnSpeed:             0
turnSpeedAcceleration: 0
warmup:                0s
x:                     0
y:                     4


[turret_cannonMain]
@copyFromSection:         template_turret
attachedTo:               base1
canAttackFlyingUnits:     false
canAttackLandUnits:       true
canAttackUnderwaterUnits: false
canShoot:                 true
chargeEffectImage:        penetratorcharge.png
delay:                    4s
image:                    EAP_turretGH-main.png
projectile:               lightning
recoilOffset:             -9
recoilOutTime:            6
recoilReturnTime:         200
shoot_flame:              large
shoot_light:              #FFff925c
shoot_sound_vol:          1.0
shoot_sound:              shock.wav
slave:                    true
turnSpeed:                0.85
warmup:                   1.0s
warmupStartEffect:        CUSTOM:Hypercharge
x:                        0
y:                        0


# Top Left Base
[turret_base1]
#canOnlyAttackUnitsWithTags: HighClassGround
#recoilOffset:               -6
#recoilOutTime:              3
#recoilReturnTime:           200
canAttackFlyingUnits:        false
canAttackLandUnits:          true
canAttackUnderwaterUnits:    false
canShoot:                    false
turnSpeed:                   1.3
turnSpeedAcceleration:       0.3
x:                           0
y:                           2.5


# Defence Protocol 1
[turret_selfdef]
#canShoot:                true
#limitingRange:           350
canAttackFlyingUnits:     true
canAttackLandUnits:       false
canAttackUnderwaterUnits: false
delay:                    50
invisible:                true
projectile:               2
shoot_flame:              NONE
shoot_light:              #FFEECCCC
shoot_sound_vol:          0.3
shoot_sound:              missile_fire
size:                     0
turnSpeed:                2000
turnSpeedAcceleration:    1
x:                        0
y:                        0


# Torpedo
[turret_3]
canAttackCondition:       if self.overwater
canAttackFlyingUnits:     false
canAttackLandUnits:       false
canAttackUnderwaterUnits: true
delay:                    50
idleDir:                  0
invisible:                true
projectile:               torp
size:                     1
turnSpeed:                15
x:                        0
y:                        0


[projectile_torp]
color:          #1E1E96
directDamage:   95
drawSize:       1
largeHitEffect: true
life:           250
speed:          0.8
targetSpeed:    1.3
trailEffect:    true


# Cannon Shot
[projectile_1]
#areaDamage:         300
#areaRadius:         45
#armourIgnoreAmount: 100
#trailEffect:        CUSTOM:projectileTrail
#trailEffectRate:    2
directDamage:        550
drawSize:            0.85
image:               supersonic.png
largeHitEffect:      true
life:                160
lightColor:          #ffff925c
lightSize:           0.6
speed:               75


[projectile_1Dumm]
color:        #46ebff
directDamage: 0
drawSize:     0
life:         0
lightColor:   #46ebff
lightSize:    0
speed:        0
tags:         INFShockt1


# Missle
[projectile_2]
ballistic_delaymove_height: 25
ballistic_height:           25
ballistic:                  true
color:                      #fff7ff1d
directDamage:               140
drawSize:                   1.9
largeHitEffect:             true
life:                       190
lightColor:                 #f7ff1d
lightSize:                  0.5
speed:                      2
tags:                       INFShockt1
targetSpeed:                6
trailEffect:                true


[effect_areaShock]
alpha:           1.2
attachedToUnit:  false
dirOffsetRandom: 180
dirSpeed:        10
drawUnderUnits:  true
fadeInTime:      1
fadeOut:         true
hOffset:         0
image:           areaShock.png
life:            30
priority:        veryhigh
scaleFrom:       0.5
scaleTo:         19
xOffsetRelative: 0
yOffsetRelative: 0


[effect_areaShock2]
alpha:             1
attachedToUnit:    false
delayedStartTimer: 2
dirOffsetRandom:   180
dirSpeed:          -6
drawUnderUnits:    true
fadeInTime:        1
fadeOut:           true
hOffset:           0
image:             areaShock.png
life:              30
priority:          low
scaleFrom:         0.5
scaleTo:           9
xOffsetRelative:   0
yOffsetRelative:   0


[effect_areaShockRays]
alpha:                0.8
animateFrameEnd:      13
animateFramePingPong: false
animateFrameSpeed:    0.4
animateFrameStart:    0
attachedToUnit:       false
dirOffset:            0
dirOffsetRandom:      60
drawUnderUnits:       true
fadeInTime:           1
fadeOut:              true
image:                SHARED:lightning_shock.png
life:                 30
priority:             high
scaleFrom:            1
scaleTo:              9
total_frames:         14
xOffsetRelative:      0
yOffsetRelative:      0


[effect_areaShockRays2]
alpha:                0.65
animateFrameEnd:      13
animateFramePingPong: false
animateFrameSpeed:    0.4
animateFrameStart:    0
attachedToUnit:       false
dirOffset:            180
dirOffsetRandom:      60
drawUnderUnits:       true
fadeInTime:           1
fadeOut:              true
image:                SHARED:lightning_shock.png
life:                 30
priority:             low
scaleFrom:            1
scaleTo:              9
total_frames:         14
xOffsetRelative:      0
yOffsetRelative:      0


[effect_areaShockLight]
alpha:          1.3
attachedToUnit: true
color:          #a4e9ff
drawUnderUnits: true
fadeInTime:     1
fadeOut:        true
image:          SHARED:light_50.png
life:           30
priority:       low
scaleFrom:      0
scaleTo:        8


[effect_areaShockLight2]
alpha:          0.6
attachedToUnit: true
color:          #a4e9ff
drawUnderUnits: false
fadeInTime:     1
fadeOut:        true
image:          SHARED:light_50.png
life:           30
priority:       low
scaleFrom:      0
scaleTo:        8


[effect_lightSlowFade]
alpha:          1.7
attachedToUnit: true
color:          #63e6e8
fadeOut:        true
image:          SHARED:light_50.png
life:           40
scaleFrom:      0.3
scaleTo:        0.2


[effect_selfShockSmoke]
alpha:                 3
atmospheric:           true
attachedToUnit:        true
color:                 #FFFFFF
createWhenZoomedOut:   false
dirOffsetRandom:       180
dirSpeedRandom:        1
drawUnderUnits:        false
fadeInTime:            0.5
fadeOut:               true
frameIndex:            0
hSpeed:                0.15
hSpeedRandom:          0.05
life:                  130
liveAfterAttachedDies: false
priority:              low
scaleFrom:             0.3
scaleTo:               1.2
stripIndex:            smoke_black
xOffsetRelativeRandom: 3
xSpeedRelativeRandom:  0.1
yOffsetRelativeRandom: 3
ySpeedRelative:        0.1


[effect_selfShockSpark1]
attachedToUnit:       true
fadeInTime:           5
hSpeed:               2
image:                SHARED:spark.png
life:                 60
physics:              true
priority:             verylow
xSpeedRelativeRandom: 1.6
ySpeedRelativeRandom: 1.6


[effect_selfShockSpark2]
attachedToUnit:       true
delayedStartTimer:    20
fadeInTime:           5
hSpeed:               2
image:                SHARED:spark.png
life:                 60
physics:              true
priority:             verylow
xSpeedRelativeRandom: 1.6
ySpeedRelativeRandom: 1.6


[effect_selfShockSpark3]
attachedToUnit:       true
delayedStartTimer:    100
fadeInTime:           5
hSpeed:               2
image:                SHARED:spark.png
life:                 60
physics:              true
priority:             verylow
xSpeedRelativeRandom: 1.6
ySpeedRelativeRandom: 1.6


[effect_sparks]
attachedToUnit:       false
hSpeed:               2
image:                SHARED:spark.png
life:                 150
physics:              true
priority:             verylow
xSpeedRelativeRandom: 1.6
ySpeedRelativeRandom: 1.6


[effect_sparks2]
attachedToUnit:       false
hSpeed:               1
image:                SHARED:spark.png
life:                 150
physics:              true
priority:             verylow
xSpeedRelativeRandom: 0.5
ySpeedRelative:       2
ySpeedRelativeRandom: 0.5


[effect_chargeSparks]
atmospheric:          true
attachedToUnit:       false
drawUnderUnits:       true
hSpeed:               0
image:                SHARED:spark.png
life:                 30
physics:              false
physicsGravity:       -0.5
priority:             verylow
scaleFrom:            4
scaleTo:              2
xSpeedRelativeRandom: 6
ySpeedRelativeRandom: 6


[effect_lighningS]
alpha:                1
alsoPlaySound:        ROOT:data\soundFx\lighn_nS.ogg:0.2
alwayStartDirAtZero:  true
animateFrameEnd:      6
animateFramePingPong: false
animateFrameSpeed:    0.4
animateFrameStart:    0
attachedToUnit:       false
fadeInTime:           3
fadeOut:              true
hOffset:              45
image:                ROOT:data\images\lightn'nStrike7.png
priority:             high
scaleFrom:            0.6
scaleTo:              0.6
total_frames:         7
xOffsetRelative:      0
yOffsetRelative:      0


[effect_lighningSParent]
#dirOffsetRandom:     180
alpha:                1
alwayStartDirAtZero:  true
animateFrameEnd:      6
animateFramePingPong: false
animateFrameSpeed:    0.4
animateFrameStart:    0
attachedToUnit:       false
fadeInTime:           3
fadeOut:              true
hOffset:              45
image:                ROOT:data\images\lightninStrike7-parent.png
priority:             high
scaleFrom:            0.6
scaleTo:              0.6
total_frames:         7
xOffsetRelative:      0
yOffsetRelative:      0


[effect_hitLightFlash]
alpha:          0.6
attachedToUnit: false
color:          #63e6e8
drawUnderUnits: false
fadeOut:        true
image:          SHARED:light_50.png
life:           17
priority:       high
scaleFrom:      1.8
scaleTo:        1.8


[effect_hitLightFlash2]
alpha:          0.6
attachedToUnit: false
color:          #63e6e8
drawUnderUnits: false
fadeOut:        true
image:          SHARED:light_50.png
life:           17
priority:       high
scaleFrom:      0.3
scaleTo:        1.5


[effect_lightningShock]
alpha:                      0.6
animateFrameEnd:            13
animateFramePingPong:       false
animateFrameSpeed:          0.5
animateFrameSpeedRandom:    0.2
animateFrameStart:          0
animateFrameStartRandomAdd: 2
attachedToUnit:             false
dirOffset:                  0
dirOffsetRandom:            180
fadeInTime:                 0
fadeOut:                    false
hOffset:                    0
image:                      SHARED:lightning_shock.png
life:                       60
scaleFrom:                  0.6
scaleTo:                    0.6
total_frames:               14
xOffsetRelative:            0
yOffsetRelative:            0


[effect_projectileTrail]
#image:               SHARED:light_50.png
#ySpeedRelative:      -1
alpha:                0.6
atmospheric:          true
attachedToUnit:       false
color:                #ffff925c
dirOffsetRandom:      180
drawUnderUnits:       false
fadeInTime:           5
fadeOut:              true
frameIndex:           0
life:                 120
scaleFrom:            0.6
scaleTo:              0.9
stripIndex:           effects
xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.2
ySpeedRelative:       0.8


[effect_dustL]
#dirOffsetRandom:     180
alpha:                0.6
atmospheric:          true
attachedToUnit:       false
drawUnderUnits:       true
frameIndex:           0
frameIndexRandom:     2
hSpeed:               0.1
life:                 30
scaleFrom:            1.5
scaleTo:              1.9
stripIndex:           dust
xOffsetRelative:      20
xSpeedAbsoluteRandom: 0.1
yOffsetRelative:      -34
ySpeedAbsoluteRandom: 0.1
ySpeedRelative:       -0.8


[effect_dustR]
#dirOffsetRandom:     180
alpha:                0.6
atmospheric:          true
attachedToUnit:       false
drawUnderUnits:       true
frameIndex:           0
frameIndexRandom:     2
hSpeed:               0.1
life:                 30
scaleFrom:            1.5
scaleTo:              1.9
stripIndex:           dust
xOffsetRelative:      -20
xSpeedAbsoluteRandom: 0.1
yOffsetRelative:      -34
ySpeedAbsoluteRandom: 0.1
ySpeedRelative:       -0.8


[movement]
#landOnGround:          true
maxTurnSpeed:           0.8
moveAccelerationSpeed:  0.07
moveDecelerationSpeed:  0.17
moveIgnoringBody:       true
movementType:           HOVER
moveSlidingMode:        false
moveSpeed:              0.55
reverseSpeedPercentage: 1
targetHeight:           3
targetHeightDrift:      1
turnAcceleration:       0.25


[effect_Hypercharge]
alsoPlaySound:   ROOT:data\soundFx\cannonCharge.ogg:2.0
attachedToUnit:  true
dirOffset:       0
dirOffsetRandom: 40
dirSpeed:        5
dirSpeedRandom:  1
drawUnderUnits:  false
fadeInTime:      5
fadeOut:         false
hOffset:         5
hSpeed:          -0.25
image:           chargesparks.png
life:            20
priority:        high
scaleFrom:       0.4
scaleTo:         0
xOffsetRelative: 0
yOffsetRelative: 0

