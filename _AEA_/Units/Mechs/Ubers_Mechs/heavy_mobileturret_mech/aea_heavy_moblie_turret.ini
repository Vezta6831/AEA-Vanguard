
[core]
#availableInDemo:       true
buildSpeed:             43.8s
class:                  CustomUnitMetadata
copyFrom:               ROOT:effects.template, ROOT:statusEffect.template
displayDescription:     -Detects Cloaked Units\n-Heavily armored\n-Ground attack when undeployed\n-Deploys for extra range, anti-air and shield regen\n-Cannot attack while undeploying\n-Can release a repairing nano-burst when deployed
displayText:            Heavy Mobile Turret
fogOfWarSightRange:     20
isBio:                  false
mass:                   15000
maxHp:                  3000
name:                   heavyMobileTurret
price:                  7500
radius:                 28
softCollisionOnAll:     0
tags:                   detector, mech, unit 
techLevel:              2
transportSlotsNeeded:   3


[hiddenAction_aiDeploy]
alsoQueueAction: deploy
autoTrigger:     if self.isControlledByAI() and self.numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=310)


[action_deploy]
#whenBuilding_rotateTo_orBackwards: true
#whenBuilding_rotateTo:             0
buildSpeed:                         3.8s
convertTo:                          heavyMobileTurretDeployed
displayType:                        action
isVisible:                          true
text:                               Deploy
whenBuilding_cannotMove:            true


[graphics]
#animation_moving_end:   7
#animation_moving_speed: 6
#animation_moving_start: 0
#imageScale:             1.1
image_shadow:            AUTO
image_wreak:             NONE
image:                   body.png
shadowOffsetX:           3
shadowOffsetY:           3
teamColorsOnTurret:      true
total_frames:            1


[attack]
canAttack:                true
canAttackFlyingUnits:     false
canAttackLandUnits:       true
canAttackUnderwaterUnits: false
maxAttackRange:           240
shootDelay:               220
turretMultiTargeting:     true
turretRotateWithBody:     true
turretSize:               19
turretTurnSpeed:          3


# Cannon Front
[turret_2]
attachedTo:            1
canAttackFlyingUnits:  false
canAttackLandUnits:    true
canShoot:              true
delay:                 1.2s
image:                 head_barrel.png
invisible:             false
projectile:            1
recoilOffset:          -6
recoilOutTime:         8
recoilReturnTime:      40
shoot_flame:           large
shoot_light:           #FFEECCCC
shoot_sound_vol:       0.2
shoot_sound:           large_gun_fire1
size:                  26
slave:                 true
turnSpeed:             4
turnSpeedAcceleration: 1.0
x:                     -5
y:                     10


[turret_2B]
copyFrom:            2
invisible:           false
linkDelayWithTurret: 2
warmup:              0.5s
x:                   5
y:                   10


[turret_1]
canAttackFlyingUnits:  false
canAttackLandUnits:    true
canShoot:              false
idleDir:               0
image:                 head_turret.png
recoilOffset:          -1.5
recoilOutTime:         4
recoilReturnTime:      6
turnSpeed:             1.5
turnSpeedAcceleration: 0.05
x:                     0
y:                     0


[turret_anti_air]
attachedTo:            1
canAttackFlyingUnits:  true
canAttackLandUnits:    false
canShoot:              true
delay:                 0.5s
idleDir:               45
image:                 anti_air.png
projectile:            aa
recoilOffset:          -4
recoilOutTime:         6
recoilReturnTime:      10
shoot_flame:           CUSTOM:missileShockwave, CUSTOM:smoke*3
shoot_light:           #FFffebbc
shoot_sound_vol:       0.3
shoot_sound:           missile_fire
size:                  8
slave:                 false
turnSpeedAcceleration: 1.0
x:                     3
y:                     -10


[projectile_cann]
areaDamage:         120
areaRadius:         60
drawSize:           1
explodeOnEndOfLife: true
image:              O_Bv3.png
life:               280
lightColor:         #FFDA55
lightSize:          0.5
speed:              12


[projectile_1]
areaDamage:      30
areaRadius:      75
directDamage:    95
drawSize:        0.9
effectOnCreate:  CUSTOM:smoke*3
frame:           2
largeHitEffect:  true
life:            70
speed:           10
trailEffect:     true
trailEffectRate: 2


# Dummy Projectile
[projectile_2]
directDamage:   0
drawSize:       0
image:          NONE
largeHitEffect: true
life:           0
speed:          0
trailEffect:    true


# Missle
[projectile_aa]
areaDamage:     30
areaRadius:     75
directDamage:   35
drawSize:       0.9
frame:          4
largeHitEffect: true
life:           160
lightColor:     #f7ff1d
lightSize:      0.5
speed:          1
targetSpeed:    8
trailEffect:    true


# Healing Burst
[projectile_heal]
areaDamage:                  -200
areaExpandTime:              90
areaHitAirAndLandAtSameTime: true
areaRadius:                  220
buildingDamageMultiplier:    0.1
deflectionPower:             -1
explodeEffect:               CUSTOM:areaHeal, CUSTOM:healLights, CUSTOM:healSparks*14, CUSTOM:healBodyLight
explodeOnEndOfLife:          true
friendlyFire:                only-ignoreEnemy
instant:                     false
largeHitEffect:              true
life:                        0
shieldDamageMultiplier:      0
speed:                       0
targetGround:                true


[leg_1]
attach_x:                     -8
attach_y:                     16
estimatingPositionMultiplier: 0.85
hardLimit:                    16
heightSpeed:                  1
holdDisMax:                   16
holdDisMin_maxMovingLegs:     3
holdDisMin:                   10
image_foot:                   foot_small.png
image_leg:                     leg.png
moveSpeed:                    1.85
resetAngle:                   25
rotateSpeed:                  7
x:                            -20
y:                            22


[leg_2]
attach_x: 8
attach_y: 16
copyFrom: 1
x:        20
y:        22


[leg_3]
attach_x: -8
attach_y: 0
copyFrom: 1
x:        -23
y:        0


[leg_4]
attach_x: 8
attach_y: 0
copyFrom: 1
x:        23
y:        0


[leg_5]
attach_x: -8
attach_y: -16
copyFrom: 1
x:        -20
y:        -22


[leg_6]
attach_x: 8
attach_y: -16
copyFrom: 1
x:        20
y:        -22


[movement]
maxTurnSpeed:           0.7
moveAccelerationSpeed:  0.01
moveDecelerationSpeed:  0.2
moveIgnoringBody:       true
movementType:           OVER_CLIFF
moveSlidingDir:         120
moveSlidingMode:        false
moveSpeed:              0.5
reverseSpeedPercentage: 0
turnAcceleration:       0.075


[ai]
buildPriority:           0.3
maxGlobal:               4
noneInBaseExtraPriority: 0.2

