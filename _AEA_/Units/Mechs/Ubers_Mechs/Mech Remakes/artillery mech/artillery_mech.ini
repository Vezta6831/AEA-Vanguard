
[core]
#availableInDemo:             true
#displayRadius:               11
#energyMax:                   3
#energyNeedsToRechargeToFull: true
#energyRegen:                 0.010
buildSpeed:                   16.7s
class:                        CustomUnitMetadata
copyFrom:                     mech_med_common.ini
displayDescription:           -Ground attack\n-Long range\n-Can move while firing\n-Stronger vs. buildings 170% structure damage
displayText:                  Artillery Mech
fogOfWarSightRange:           20
isBio:                        false
mass:                         6000
maxHp:                        500
name:                         artilleryMech
overrideAndReplace:           mechArtillery
price:                        1500
radius:                       23
softCollisionOnAll:           0
techLevel:                    1


[hiddenAction_MICROGOD]
addWaypoint_target_fromReference: createMarker(x=self.x, y=self.y, dir=direction(self.x, self.y, attacking.x, attacking.y)).getOffsetRelative(y=-55)
addWaypoint_type:                 move
allowMultipleInQueue:             false
autoTrigger:                      if self.isAttacking() and self.isControlledByAI() and self.numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=280)
clearAllWaypoints:                true


[graphics]
#animation_moving_end:                  7
#animation_moving_speed:                6
#animation_moving_start:                0
#lock_shadow_rotation_with_main_turret: true
image_shadow:                           SHADOW:topArtilleryShadow.png
image_turret:                           topArtilleryBars.png
image_wreak:                            NONE
image:                                  topArtillery.png
lock_body_rotation_with_main_turret:    true
shadowOffsetX:                          2
shadowOffsetY:                          2
teamColorsOnTurret:                     true
total_frames:                           1


[attack]
canAttack:                true
canAttackFlyingUnits:     false
canAttackLandUnits:       true
canAttackUnderwaterUnits: false
maxAttackRange:           300
shootDelay:               220
turretRotateWithBody:     false
turretSize:               18
turretTurnSpeed:          3


[turret_1]
canShoot:              false
idleDir:               0
recoilOffset:          -2
recoilOutTime:         3
recoilReturnTime:      38
turnSpeed:             2.9
turnSpeedAcceleration: 0.3
x:                     0
y:                     0


# Cannon Front
[turret_2]
#energyUsage:          1
attachedTo:            1
canShoot:              true
image:                 cannon.png
invisible:             false
projectile:            1
recoilOffset:          -8
recoilOutTime:         3
recoilReturnTime:      38
shoot_flame:           CUSTOM:muzzleFlame
shoot_light:           #FFEECCCC
shoot_sound_vol:       0.3
shoot_sound:           large_gun_fire2
size:                  27
slave:                 true
turnSpeed:             0
turnSpeedAcceleration: 1.0
x:                     -1.5
y:                     0


# Cannon Back
[turret_3]
attachedTo:            1
canShoot:              true
idleDir:               0
image:                 cannonback.png
linkDelayWithTurret:   2
projectile:            2
recoilOffset:          -2
recoilOutTime:         3
recoilReturnTime:      38
slave:                 true
turnSpeed:             0
turnSpeedAcceleration: 0.3
warmup:                0
x:                     -1.5
y:                     0


# Bars
[turret_4]
attachedTo:            1
canShoot:              false
idleDir:               0
slave:                 true
turnSpeed:             0
turnSpeedAcceleration: 0.3
x:                     0
y:                     0


[projectile_1]
areaDamage:                 85
areaRadius:                 60
buildingDamageMultiplier:   1.7
drawSize:                   0
effectOnCreate:             CUSTOM:smoke*3, CUSTOM:shell
frame:                      2
gravity:                    0.16
initialUnguidedSpeedHeight: 1.2
largeHitEffect:             true
life:                       150
lightColor:                 #ffe92b
lightSize:                  0.6
speed:                      4
targetGround:               true


# Dummy Projectile
[projectile_2]
areaDamage:     0
areaRadius:     0
drawSize:       0
frame:          2
largeHitEffect: true
life:           0
speed:          0
targetGround:   true


[effect_shell]
alpha:                 1.5
attachedToUnit:        true
color:                 #FFFFFF
drawUnderUnits:        false
fadeInTime:            0
fadeOut:               true
hOffset:               2
image:                 shell.png
imageShadow:           shell.png
life:                  200
liveAfterAttachedDies: false
priority:              veryhigh
scaleFrom:             0.7
scaleTo:               0.7
shadow:                true


[effect_muzzleFlame]
alpha:                 1.6
animateFrameEnd:       4
animateFramePingPong:  true
animateFrameSpeed:     0.75
animateFrameStart:     0
attachedToUnit:        true
color:                 #FFFFFF
drawUnderUnits:        false
fadeOut:               true
hSpeed:                0.01
image:                 flame.png
life:                  12
liveAfterAttachedDies: false
physics:               false
priority:              high
scaleFrom:             0.8
scaleTo:               1.2
total_frames:          5


[effect_smoke]
alpha:                 1
atmospheric:           true
attachedToUnit:        false
color:                 #FFFFFF
createWhenZoomedOut:   false
dirOffsetRandom:       180
dirSpeedRandom:        5
drawUnderUnits:        false
fadeInTime:            1
fadeOut:               true
frameIndex:            0
hSpeed:                0.15
hSpeedRandom:          0.05
life:                  90
liveAfterAttachedDies: false
priority:              low
scaleFrom:             0.2
scaleTo:               0.7
stripIndex:            smoke_black
xSpeedRelativeRandom:  0.1
ySpeedRelative:        0.1


[movement]
maxTurnSpeed:           5.0
moveAccelerationSpeed:  0.07
moveDecelerationSpeed:  0.17
moveIgnoringBody:       false
moveSlidingMode:        false
moveSpeed:              0.6
reverseSpeedPercentage: 1
turnAcceleration:       0.5

