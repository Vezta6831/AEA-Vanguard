
[core]
#availableInDemo:            true
#displayRadius:              11
buildSpeed:                  0.0006
class:                       CustomUnitMetadata
copyFrom:                    mech_large_common.ini
displayDescription:          -Attacks land & air\n-Needs to recharge after firing\n-Long range
displayText:                 Plasma Mech - Ammo test
dont_load:                   true
energyMax:                   3
energyNeedsToRechargeToFull: true
energyRegen:                 0.012
fogOfWarSightRange:          20
isBio:                       false
mass:                        6000
maxHp:                       1300
name:                        plasmaMechAmmoTest
price:                       7000
radius:                      25
softCollisionOnAll:          0
techLevel:                   3
transportSlotsNeeded:        2


[action_addAmmoSpawn]
addResources: ammo=4
autoTrigger:  if self.timeAlive(withinSeconds=0.1)
buildSpeed:   1
description:  -adds 4 ammo as soon as unit spawns
displayType:  NONE
isActive:     if self.timeAlive(withinSeconds=0.15)
pos:          0.2
price:        0
text:         spawn ammo add


[action_addAmmoTrigger]
addResources:    ammo=0
alsoQueueAction: addAmmo
autoTrigger:     if self.ammo(lessThan=4) and not self.isAttacking()
buildSpeed:      0.03
description:     -adds addAmmo to queue
displayType:     NONE
isActive:        if self.ammo(lessThan=4)
pos:             0.1
price:           0
text:            ammo add trigger


[action_addAmmo]
addResources: ammo=1
buildSpeed:   0.04
description:  -adds 1 ammo
displayType:  NONE
isActive:     if self.ammo(lessThan=4) and not self.isAttacking()
pos:          0.2
price:        0
text:         test


[action_addShootFlag]
addResources: setFlag=1
autoTrigger:  if self.ammo(greaterThan=3)
buildSpeed:   0.1
description:  ...
displayType:  NONE
pos:          0.2
price:        0
text:         adds shoot flag for burst firing


[action_removeShootFlag]
addResources: unsetFlag=1
autoTrigger:  if self.ammo(empty=true)
buildSpeed:   0.1
description:  ...
displayType:  NONE
pos:          0.2
price:        0
text:         removes shoot flag to disable firing


[graphics]
#animation_moving_end:                  7
#animation_moving_speed:                6
#animation_moving_start:                0
#lock_shadow_rotation_with_main_turret: true
image_shadow:                           SHADOW:topLaserShadow.png
image_turret:                           topLaser_cannon.png
image_wreak:                            NONE
image:                                  topLaser.png
lock_body_rotation_with_main_turret:    true
shadowOffsetX:                          2
shadowOffsetY:                          2
teamColorsOnTurret:                     true
total_frames:                           1


[attack]
canAttack:                true
canAttackFlyingUnits:     true
canAttackLandUnits:       true
canAttackUnderwaterUnits: false
maxAttackRange:           330
shootDelay:               10
turretRotateWithBody:     true
turretSize:               20
turretTurnSpeed:          3


[turret_1]
canShoot:              false
idleDir:               0
invisible:             true
recoilOffset:          -1
recoilOutTime:         1
recoilReturnTime:      9
turnSpeed:             3.2
turnSpeedAcceleration: 0.09
x:                     0
y:                     0


[turret_2]
attachedTo:            1
canAttackCondition:    if self.hasFlag(id=1)
canShoot:              true
chargeEffectImage:     SHARED:lighting_charge.png
projectile:            1
recoilOffset:          -3.5
recoilOutTime:         1
recoilReturnTime:      9
resourceUsage:         ammo=1
shoot_light:           #FFafcbff
shoot_sound_vol:       0.07
shoot_sound:           plasma_fire
size:                  32
slave:                 true
turnSpeed:             0
turnSpeedAcceleration: 1.0
warmup:                13
x:                     13
y:                     18


[turret_3]
attachedTo:            1
canShoot:              false
image:                 topLaser_cannonbase.png
invisible:             false
turnSpeed:             0
turnSpeedAcceleration: 0
x:                     -0.75
y:                     0


[projectile_1]
deflectionPower: 2
directDamage:    100
drawSize:        1.2
explodeEffect:   CUSTOM:projectilePassThough, smallExplosion, CUSTOM:hitLightFlash
frame:           11
life:            70
lightColor:      #63e6e8
lightSize:       0.7
speed:           17
trailEffect:     CUSTOM:projectileTrail
trailEffectRate: 1


[effect_lightSlowFade]
alpha:          0.5
attachedToUnit: true
color:          #63e6e8
drawUnderUnits: true
fadeOut:        true
image:          SHARED:light_50.png
life:           40
scaleFrom:      0.7
scaleTo:        0.7


[effect_projectileTrail]
alpha:          0.6
attachedToUnit: false
color:          #63e6e8
drawUnderUnits: true
fadeInTime:     2
fadeOut:        true
image:          SHARED:light_50.png
life:           20
scaleFrom:      0.4
scaleTo:        0.4


[effect_hitLightFlash]
alpha:          0.6
attachedToUnit: false
color:          #63e6e8
drawUnderUnits: false
fadeOut:        true
image:          SHARED:light_50.png
life:           14
priority:       high
scaleFrom:      1.8
scaleTo:        1.8


[effect_projectilePassThough]
alpha:          1
atmospheric:    true
attachedToUnit: false
color:          #FFFFFF
drawUnderUnits: false
fadeOut:        true
frameIndex:     4
life:           20
priority:       high
scaleFrom:      1.2
scaleTo:        0.5
stripIndex:     projectiles2
ySpeedRelative: 3


[movement]
maxTurnSpeed:           3.2
moveAccelerationSpeed:  0.07
moveDecelerationSpeed:  0.17
moveIgnoringBody:       false
moveSlidingMode:        false
moveSpeed:              0.6
reverseSpeedPercentage: 1
turnAcceleration:       0.09

