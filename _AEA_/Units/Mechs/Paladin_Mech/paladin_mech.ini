
[core]
#availableInDemo:            true
#displayRadius:              11
buildSpeed:                  20.8s
builtFrom_1_name:            mechFactory
builtFrom_1_pos:             1.5
builtFrom_2_name:            mechFactoryT2
builtFrom_2_pos:             1.5
class:                       CustomUnitMetadata
copyFrom:                    ROOT:statusEffect.template
displayDescription:          -Can attack ground and air\n- Armed with light grenade launchers and a light AA flak turret\n- Shield absorbs AOE damage\n- Weak vs tesla\n- Strong VS low HP units\n- Overall decent unit for price
displayText:                 Paladin Mech
effectOnDeath:               CUSTOM:deathMark, CUSTOM:deathBody, CUSTOM:deathCannon, CUSTOM:deathExplosionMain, CUSTOM:deathLight
energyMax:                   1
energyNeedsToRechargeToFull: true
energyRegen:                 0.0005
fogOfWarSightRange:          20
isBio:                       false
mass:                        6000
maxHp:                       500
maxShield:                   800
name:                        paladinMech
numBitsOnDeath:              5
price:                       4000
radius:                      19
shieldRegen:                 0.25
softCollisionOnAll:          0
techLevel:                   2
transportSlotsNeeded:        2


[hiddenAction_MICROGOD]
addWaypoint_target_fromReference: createMarker(x=self.x, y=self.y, dir=direction(self.x, self.y, attacking.x, attacking.y)).getOffsetRelative(y=-40)
addWaypoint_type:                 move
allowMultipleInQueue:             false
autoTrigger:                      if self.isAttacking() and self.isControlledByAI() and self.numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=210)
clearAllWaypoints:                true


[action_batteryBurst]
addActionCooldownTime:          40s
allowMultipleInQueue:           false
autoTrigger:                    if self.shield(lessThan=200) and self.isControlledByAI() and self.customTimer(laterThanSeconds=40)
buildSpeed:                     0.5s
description:                    -Releases shield pulse that returns all nearby units with a shield value. 400 shield points.
displayType:                    action
fireTurretXAtGround_withOffset: 0, 0
fireTurretXAtGround:            shield
iconImage:                      ROOT:data\icons\RhinoXT2Shi.png
resetCustomTimer:               true
text:                           Shield Burst


[graphics]
image_shadow:                        SHADOW:body_shadow.png
image_turret:                        NONE
image_wreak:                         NONE
image:                               body.png
lock_body_rotation_with_main_turret: true
shadowOffsetX:                       2
shadowOffsetY:                       2
teamColorsOnTurret:                  true
total_frames:                        1


[attack]
canAttack:                true
canAttackFlyingUnits:     true
canAttackLandUnits:       true
canAttackUnderwaterUnits: false
isFixedFiring:            false
maxAttackRange:           230
shootDelay:               120
turretMultiTargeting:     true
turretRotateWithBody:     true
turretSize:               20
turretTurnSpeed:          3

# Body
[turret_1]
canShoot:              false
invisible:             true
recoilOffset:          -1.25
recoilOutTime:         1
recoilReturnTime:      30
turnSpeed:             4
turnSpeedAcceleration: 0.5
x:                     0
y:                     0


# Right Cannon
[turret_2]
attachedTo:            1
canAttackFlyingUnits:  false
canAttackLandUnits:    true
canShoot:              true
image:                 rightcannon.png
invisible:             false
projectile:            1
recoilOffset:          -5
recoilOutTime:         1
recoilReturnTime:      40
shoot_flame:           CUSTOM:muzzleFlame
shoot_light:           #FFff7734
shoot_sound_vol:       0.28
shoot_sound:           large_gun_fire2
size:                  5
slave:                 true
turnSpeed:             0
turnSpeedAcceleration: 1.0
x:                     10.5
y:                     9


# Left Cannon
[turret_3]
copyFrom:            2
image:               leftcannon.png
linkDelayWithTurret: 2
warmup:              25
x:                   -10.5
y:                   9


# Left Loader
[turret_5]
attachedTo:            1
canShoot:              true
image:                 loader.png
linkDelayWithTurret:   2
projectile:            2
recoilOffset:          -2
recoilOutTime:         1
recoilReturnTime:      35
size:                  5
slave:                 true
turnSpeed:             0
turnSpeedAcceleration: 0
warmup:                25
x:                     -10.5
y:                     9


# Right Loader
[turret_6]
copyFrom:            5
linkDelayWithTurret: 2
warmup:              0
x:                   10.5
y:                   9


# Cannon Top
[turret_7]
attachedTo:            1
canShoot:              false
image:                 cannon_top.png
turnSpeed:             0
turnSpeedAcceleration: 0
x:                     0
y:                     -2.5


# Flak
[turret_8]
attachedTo:               1
barrelOffsetX_onOddShots: 7
barrelX:                  -3.5
canAttackFlyingUnits:     true
canAttackLandUnits:       false
canShoot:                 true
idleSweepAddRandomAngle:  20
idleSweepAddRandomDelay:  60
idleSweepAngle:           20
idleSweepCondition:       if not self.isMoving() or self.isAttacking()
idleSweepDelay:           180
idleSweepSpeed:           0.35
image:                    flakbarrel.png
projectile:               3
recoilOffset:             -2
recoilOutTime:            1.5
recoilReturnTime:         25
shoot_flame:              CUSTOM:muzzleFlameSmall
shoot_light:              #FFff7734
shoot_sound_vol:          0.2
shoot_sound:              large_gun_fire2
size:                     9
turnSpeed:                4
turnSpeedAcceleration:    1.0
warmup:                   0
x:                        0
y:                        -11


# Area Shield Turret
[turret_shield]
canAttackFlyingUnits:     false
canAttackLandUnits:       false
canAttackUnderwaterUnits: false
canShoot:                 false
delay:                    0
invisible:                true
projectile:               shieldpulse
shoot_flame:              NONE
shoot_sound_vol:          0.5
shoot_sound:              NONE
size:                     0
turnSpeed:                5.0
warmup:                   0
x:                        0
y:                        0


# Main Shell
[projectile_1]
areaDamage:                 80
areaRadius:                 50
drawSize:                   0
effectOnCreate:             CUSTOM:shell, CUSTOM:smoke*3
explodeEffect:              CUSTOM:explosionShockwave, CUSTOM:explosionMain, CUSTOM:hitLightFlash
gravity:                    0.16
image:                      shell.png
initialUnguidedSpeedHeight: 0.8
largeHitEffect:             true
life:                       70
lightColor:                 #55ff4400
lightSize:                  0.6
speed:                      6
targetGround:               true
trailEffect:                CUSTOM:shellSmoke
trailEffectRate:            0.75


# Dummy Projectile
[projectile_2]
directDamage:    0
drawSize:        0
explodeEffect:   NONE
image:           NONE
life:            0
lightColor:      #00000000
lightSize:       0
speed:           0
trailEffect:     true
trailEffectRate: 1.8


# Flak Projectile
[projectile_3]
#directDamage:             60
#targetSpeed:              6
areaDamage:                60
areaRadius:                120
autoTargetingOnDeadTarget: true
drawSize:                  0.8
effectOnCreate:            CUSTOM:smoke*5
explodeEffect:             CUSTOM:explosionShockwave, CUSTOM:hitLightFlash, CUSTOM:explosionMainFlak
frame:                     0
life:                      240
lightColor:                #ffff00
lightSize:                 0.3
speed:                     10
trailEffect:               CUSTOM:flakSmoke
trailEffectRate:           0.75


# Shield Pulse
[projectile_shieldpulse]
areaDamage:                  -1
areaDamageNoFalloff:         true
areaExpandTime:              50
areaHitAirAndLandAtSameTime: true
areaRadius:                  220
deflectionPower:             -1
explodeEffect:               shieldpulse
explodeOnEndOfLife:          true
friendlyFire:                only-ignoreEnemy
instant:                     false
largeHitEffect:              true
life:                        0
shieldDamageMultiplier:      400
speed:                       0
targetGround:                true


[effect_shieldpulse]
dirSpeed:       21
drawUnderUnits: true
fadeOut:        1
image:          shieldpulse.png
life:           50
scaleFrom:      0.1
scaleTo:        1


[effect_shell]
alpha:                 1.5
attachedToUnit:        true
color:                 #FFFFFF
dirSpeedRandom:        0.5
drawUnderUnits:        false
fadeInTime:            0
fadeOut:               true
hOffset:               1
image:                 shell.png
imageShadow:           SHADOW:shell.png
life:                  120
liveAfterAttachedDies: false
priority:              veryhigh
scaleFrom:             0.55
scaleTo:               0.55
shadow:                true


[effect_shellSmoke]
alpha:                      0.7
animateFrameEnd:            1
animateFramePingPong:       false
animateFrameSpeed:          0
animateFrameStart:          0
animateFrameStartRandomAdd: 1
atmospheric:                true
attachedToUnit:             false
color:                      #FFFFFF
createWhenZoomedOut:        false
dirSpeedRandom:             0.5
drawUnderUnits:             false
fadeInTime:                 2
fadeOut:                    true
image:                      smoke_black.png
imageShadow:                smoke_black.png
life:                       70
liveAfterAttachedDies:      true
priority:                   low
scaleFrom:                  0.2
scaleTo:                    0.4
shadow:                     true
spawnChance:                0.5
total_frames:               2
xOffsetRelativeRandom:      1
xSpeedRelativeRandom:       0.05
yOffsetRelativeRandom:      1
ySpeedRelativeRandom:       0.05


[effect_flakSmoke]
alpha:                      0.75
animateFrameEnd:            1
animateFramePingPong:       false
animateFrameSpeed:          0
animateFrameStart:          0
animateFrameStartRandomAdd: 1
atmospheric:                true
attachedToUnit:             false
color:                      #FFFFFF
createWhenZoomedOut:        false
dirSpeedRandom:             0.5
drawUnderUnits:             false
fadeInTime:                 2
fadeOut:                    true
image:                      smoke_black.png
imageShadow:                smoke_black.png
life:                       70
liveAfterAttachedDies:      true
priority:                   low
scaleFrom:                  0.35
scaleTo:                    0.45
shadow:                     true
spawnChance:                0.6
total_frames:               2
xOffsetRelativeRandom:      1
xSpeedRelativeRandom:       0.05
yOffsetRelativeRandom:      1
ySpeedRelativeRandom:       0.05


[effect_explosionMain]
alpha:                   1
alsoEmitEffects:         CUSTOM:explosionSmall
alsoPlaySound:           missile_hit:0.5
animateFrameEnd:         13
animateFramePingPong:    false
animateFrameSpeed:       0.65
animateFrameSpeedRandom: 0.1
animateFrameStart:       0
attachedToUnit:          false
dirOffset:               0
dirOffsetRandom:         180
dirSpeedRandom:          1
fadeInTime:              0
fadeOut:                 true
image:                   explode_big.png
life:                    30
priority:                high
scaleFrom:               1
scaleTo:                 1.5
total_frames:            14
xOffsetRelative:         0
yOffsetRelative:         0


[effect_explosionSmall]
alpha:                 0.7
animateFrameEnd:       13
animateFramePingPong:  false
animateFrameSpeed:     0.8
animateFrameStart:     0
attachedToUnit:        false
dirOffset:             0
dirOffsetRandom:       180
dirSpeedRandom:        1
fadeInTime:            0
fadeOut:               true
hOffset:               1
image:                 explode_big.png
life:                  30
priority:              low
scaleFrom:             0.8
scaleTo:               1.1
total_frames:          14
xOffsetRelativeRandom: 1
yOffsetRelativeRandom: 1


[effect_explosionMainFlak]
alpha:                   1
alsoPlaySound:           missile_hit:0.4
animateFrameEnd:         13
animateFramePingPong:    false
animateFrameSpeed:       0.65
animateFrameSpeedRandom: 0.1
animateFrameStart:       0
attachedToUnit:          false
dirOffset:               0
dirOffsetRandom:         180
dirSpeedRandom:          1
fadeInTime:              0
fadeOut:                 true
image:                   explode_big.png
life:                    30
priority:                high
scaleFrom:               0.7
scaleTo:                 1.2
total_frames:            14
xOffsetRelative:         0
yOffsetRelative:         0


[effect_explosionShockwave]
alpha:          0.7
attachedToUnit: true
color:          #fff7e0
dirSpeedRandom: 30
fadeInTime:     0
fadeOut:        true
image:          shockwave_large.png
life:           30
priority:       low
scaleFrom:      0.2
scaleTo:        0.8


[effect_hitLightFlash]
alpha:          0.5
attachedToUnit: false
color:          #ffffff
drawUnderUnits: false
fadeOut:        true
image:          light.png
life:           20
priority:       high
scaleFrom:      1.4
scaleTo:        0.4


[effect_muzzleFlame]
alpha:                 1.6
animateFrameEnd:       4
animateFramePingPong:  true
animateFrameSpeed:     0.7
animateFrameStart:     0
attachedToUnit:        true
color:                 #FFFFFF
drawUnderUnits:        false
fadeOut:               true
hSpeed:                0.01
image:                 flame.png
life:                  12
liveAfterAttachedDies: false
physics:               false
priority:              high
scaleFrom:             0.8
scaleTo:               1.2
total_frames:          5


[effect_muzzleFlameSmall]
alpha:                 1.6
animateFrameEnd:       3
animateFramePingPong:  true
animateFrameSpeed:     0.8
animateFrameStart:     0
attachedToUnit:        true
color:                 #FFFFFF
drawUnderUnits:        false
fadeOut:               true
hSpeed:                0.01
image:                 flame_small.png
life:                  11
liveAfterAttachedDies: false
physics:               false
priority:              high
scaleFrom:             0.8
scaleTo:               1.2
total_frames:          4


[effect_smoke]
alpha:                 1
atmospheric:           true
attachedToUnit:        false
color:                 #FFFFFF
createWhenZoomedOut:   false
dirOffsetRandom:       180
dirSpeedRandom:        5
drawUnderUnits:        false
fadeInTime:            1
fadeOut:               true
frameIndex:            0
hSpeed:                0.15
hSpeedRandom:          0.05
life:                  90
liveAfterAttachedDies: false
priority:              low
scaleFrom:             0.2
scaleTo:               0.7
stripIndex:            smoke_black
xSpeedRelativeRandom:  0.1
ySpeedRelative:        0.1


[effect_deathExplosionMain]
alpha:                   1.1
alsoEmitEffects:         CUSTOM:deathExplosionSmall
animateFrameEnd:         13
animateFramePingPong:    false
animateFrameSpeed:       0.5
animateFrameSpeedRandom: 0.1
animateFrameStart:       0
attachedToUnit:          false
dirOffset:               0
dirOffsetRandom:         180
dirSpeedRandom:          1
fadeInTime:              0
fadeOut:                 true
image:                   explode_big.png
life:                    40
priority:                high
scaleFrom:               1.2
scaleTo:                 2.3
total_frames:            14
xOffsetRelative:         0
yOffsetRelative:         0


[effect_deathExplosionSmall]
alpha:                 0.7
animateFrameEnd:       13
animateFramePingPong:  false
animateFrameSpeed:     0.7
animateFrameStart:     0
attachedToUnit:        false
dirOffset:             0
dirOffsetRandom:       180
dirSpeedRandom:        1
fadeInTime:            0
fadeOut:               true
hOffset:               1
image:                 explode_big.png
life:                  33
priority:              low
scaleFrom:             1.2
scaleTo:               1.3
total_frames:          14
xOffsetRelativeRandom: 1
yOffsetRelativeRandom: 1


[effect_deathBody]
alpha:                 3
attachedToUnit:        false
dirOffsetRandom:       180
dirSpeedRandom:        3
drawUnderUnits:        true
hSpeed:                1.15
hSpeedRandom:          0.05
image:                 mainbody_dead.png
imageShadow:           mainbody_dead.png
life:                  500
physics:               true
physicsGravity:        0.6
priority:              high
shadow:                true
xOffsetRelativeRandom: 1
xSpeedRelativeRandom:  0.8
yOffsetRelativeRandom: 1
ySpeedRelativeRandom:  0.8


[effect_deathCannon]
alpha:                 2
attachedToUnit:        false
dirOffsetRandom:       180
dirSpeedRandom:        10
drawUnderUnits:        true
hSpeed:                2.2
hSpeedRandom:          0.3
image:                 cannon_dead.png
imageShadow:           cannon_dead.png
life:                  500
physics:               true
physicsGravity:        0.8
priority:              low
shadow:                true
spawnChance:           0.9
xOffsetRelative:       0
xOffsetRelativeRandom: 3
xSpeedRelative:        0.8
xSpeedRelativeRandom:  0.2
yOffsetRelative:       -10
yOffsetRelativeRandom: 4
ySpeedRelativeRandom:  1.2


[effect_deathLight]
alpha:               1
attachedToUnit:      true
color:               #ffffff
createWhenOffscreen: false
drawUnderUnits:      false
fadeInTime:          3
fadeOut:             true
image:               light.png
life:                40
priority:            low
scaleFrom:           2.1
scaleTo:             1


[effect_deathMark]
alpha:                3
alwayStartDirAtZero:  true
attachedToUnit:       false
createWhenOverLiquid: false
drawUnderUnits:       true
fadeInTime:           20
hOffset:              1
image:                scorchmark.png
life:                 400
physics:              false
priority:             low
scaleFrom:            0.4
scaleTo:              0.4


[leg_1]
attach_x:    -6
attach_y:    0
heightSpeed: 0.8
holdDisMax:  36
holdDisMin:  19
image_foot:  foot_med.png
image_leg:   leg.png
moveSpeed:   2.1
resetAngle:  25
rotateSpeed: 7
x:           -11
y:           0


[leg_2]
attach_x: 6
attach_y: 0
copyFrom: 1
x:        11
y:        0


[movement]
maxTurnSpeed:           4
moveAccelerationSpeed:  0.07
moveDecelerationSpeed:  0.17
moveIgnoringBody:       false
movementType:           LAND
moveSlidingMode:        false
moveSpeed:              0.85
reverseSpeedPercentage: 1
turnAcceleration:       0.5


[ai]
buildPriority:           0.2
noneInBaseExtraPriority: 0.3

