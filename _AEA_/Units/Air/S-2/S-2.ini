
[core]
@memory ewsprot:      number
#exit_moveAwayAmount: 140
buildSpeed:           0.002
builtFrom_1_name:     airFactory
builtFrom_1_pos:      8
class:                CustomUnitMetadata
copyFrom:             ROOT:effects.template, ROOT:data\_transportSlot.template, ROOT:statusEffect.template,ROOT:/DATA/total/debuffs.template
displayDescription:   - 6 transport slots.\n- Cannot Attack.
displayRadius:        30
displayText:          S-2
exit_dirOffset:       0
exit_x:               0
exit_y:               10
isBio:                false
mass:                 5000
maxHp:                575
maxTransportingUnits: 6
name:                 S-2
price:                2750
radius:               30
selfRegenRate:        0.02
softCollisionOnAll:   12
tags:                 mech, unit
techLevel:            2


# ALLEGEDLY USELESS CODE VVV
[action_slot1]
@copyFromSection: template_unitLoad
@define slotId:   0


[action_slot2]
@copyFromSection: template_unitLoad
@define slotId:   1


[action_slot3]
@copyFromSection: template_unitLoad
@define slotId:   2


[action_slot4]
@copyFromSection: template_unitLoad
@define slotId:   3


[action_slot5]
@copyFromSection: template_unitLoad
@define slotId:   4


[action_slot6]
@copyFromSection: template_unitLoad
@define slotId:   5
# ALLEGEDLY USELESS CODE ^^^


# == Dropship Movement Penalty == #
[hiddenAction_preventews]
autoTriggerOnEvent: tookDamage()
requireConditional: if eventSource.tags(includes='capmid')
setUnitMemory:      ewsprot = memory.ewsprot + 1
temporarilyAddTags: preventews


[hiddenAction_allowdebuff]
autoTriggerOnEvent:    tookDamage()
requireConditional:    if not eventSource.tags(includes='capmid')
setUnitMemory:         ewsprot = 0
temporarilyRemoveTags: preventews


[hiddenAction_penalty]
autoTriggerOnEvent: tookDamage()
requireConditional: if not self.tags(includes='AirTransportPenalty') and not self.tags(includes='Shocked') and not self.tags(includes="preventews")
setUnitStats:       moveSpeed-=${movement.moveSpeed}*0.6
temporarilyAddTags: AirTransportPenalty


[hiddenAction_DebuffconcusDeactivate]
autoTrigger:           if not self.hasTakenDamage(withinSeconds=3) or memory.ewsprot >=3
requireConditional:    if self.tags(includes='AirTransportPenalty') and not self.tags(includes='Shocked')
setUnitMemory:         ewsprot = 0
setUnitStats:          moveSpeed=${movement.moveSpeed}
temporarilyRemoveTags: AirTransportPenalty
# 60% Speed Reduction


[graphics]
image_shadow:       AUTO
image_turret:       NONE
image_wreak:        body_dead.png
image:              body.png
movementEffect:     CUSTOM:trails2
movementEffectRate: 1
scaleImagesTo:      60
shadowOffsetX:      1
shadowOffsetY:      1
total_frames:       1


[attack]
canAttack:                false
canAttackFlyingUnits:     false
canAttackLandUnits:       false
canAttackUnderwaterUnits: false
maxAttackRange:           9
shootDelay:               30
turretSize:               20
turretTurnSpeed:          3


[projectile_1]
directDamage: 250
instant:      true
life:         50


[movement]
landOnGround:          true
maxTurnSpeed:          1.5
moveAccelerationSpeed: 0.02
moveDecelerationSpeed: 0.02
moveIgnoringBody:      true
movementType:          AIR
moveSlidingDir:        45
moveSlidingMode:       true
moveSpeed:             1.5
slowDeathFall:         true
turnAcceleration:      0.05

