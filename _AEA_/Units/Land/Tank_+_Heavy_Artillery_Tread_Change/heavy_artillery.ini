
[core]
#availableInDemo:     true
#class:               CustomUnitMetadata
armour:               3
buildSpeed:           20.8s
copyFrom:             ROOT:effects.template, ROOT:statusEffect.template
displayDescription:   - Long range AOE ground attack\n- +40% dmg to structures\n- Limited laser defence 
displayRadius:        19
displayText:          Heavy Artillery
energyMax:            2
energyRegen:          0.001
fogOfWarSightRange:   20
isBio:                false
mass:                 21000
maxHp:                600
name:                 heavyArtilleryAEA
overrideAndReplace:   heavyArtillery
price:                3250
radius:               19
softCollisionOnAll:   0
techLevel:            2
transportSlotsNeeded: 2


[hiddenAction_MICROGOD]
addWaypoint_target_fromReference: createMarker(x=self.x, y=self.y, dir=direction(self.x, self.y, attacking.x, attacking.y)).getOffsetRelative(y=-60)
addWaypoint_type:                 move
allowMultipleInQueue:             false
autoTrigger:                      if self.isAttacking() and self.isControlledByAI() and self.numberOfUnitsInEnemyTeam(greaterThan=0, withinRange=310)
clearAllWaypoints:                true


[graphics]
animation_moving_end:   2
animation_moving_speed: 1.8
animation_moving_start: 0
dustEffect:             true
image_shadow:           AUTO
image_turret:           heavy_artillery_turret.png
image_wreak:            heavy_artillery_dead.png
image:                  heavy_artillery.png
shadowOffsetX:          2
shadowOffsetY:          2
total_frames:           3


[attack]
canAttack:                true
canAttackFlyingUnits:     false
canAttackLandUnits:       true
canAttackUnderwaterUnits: false
maxAttackRange:           320
shootDelay:               125
turretSize:               30
turretTurnSpeed:          2


[turret_1]
canShoot:              false
invisible:             true
laserDefenceEnergyUse: 1
limitingRange:         80
size:                  1
x:                     -7
y:                     14


[turret_2]
canShoot:              true
projectile:            1
recoilOffset:          -4
recoilOutTime:         9
recoilReturnTime:      18
shoot_flame:           small
shoot_light:           #FFEEEEEE
shoot_sound_vol:       0.3
shoot_sound:           cannon_firing
turnSpeedAcceleration: 0.9
x:                     0
y:                     0


[projectile_1]
areaDamage:                  140
areaRadius:                  55
buildingDamageMultiplier:    1.5
color:                       #bebe50
directDamage:                1
drawSize:                    0.9
frame:                       2
gravity:                     0.1
initialUnguidedSpeedHeight:  1.2
largeHitEffect:              true
life:                        23
lightCastOnGround:           true
lightColor:                  #ffe92b
lightSize:                   0.4
spawnProjectilesOnEndOfLife: 2
spawnUnit:                   explodeSFX
speed:                       4
tags:                        ifc
targetGround:                true
targetGroundSpread:          20
trailEffect:                 CUSTOM:projectileSmoke
trailEffectRate:             2


[projectile_2]
#gravity:                   0.2
areaDamage:                 140
areaRadius:                 55
buildingDamageMultiplier:   1.4
color:                      #bebe50
directDamage:               1
drawSize:                   0.9
explodeEffect:              CUSTOM:lightGround, smallExplosion
frame:                      2
gravity:                    0.1
initialUnguidedSpeedHeight: 1.2
largeHitEffect:             true
life:                       150
lightCastOnGround:          true
lightColor:                 #ffe92b
lightSize:                  0.4
spawnUnit:                  explodeSFX
speed:                      4
tags:                       ifc
targetGround:               true
targetGroundSpread:         20


[effect_dirtyExplosion]
alsoEmitEffects:      CUSTOM:lightGround, CUSTOM:dirt, shockwave, CUSTOM:dirtySmoke, smallExplosion
createWhenOverLiquid: false
life:                 0


[effect_waterSplash]
alsoEmitEffects: CUSTOM:wave, CUSTOM:waterSplash1, CUSTOM:waterSplash2, CUSTOM:waterSplash3, CUSTOM:waterSplash4*3, CUSTOM:waterSplash5*5
life:            0


[effect_missileFlare1]
@define missileFlareSize: 0.1
alwayStartDirAtZero:      true
ifSpawnFailsEmitEffects:  CUSTOM:missileFlare2
image:                    ROOT:shared/yellow_flare.png
life:                     10
lifeRandom:               5
scaleFrom:                ${missileFlareSize}
scaleTo:                  ${missileFlareSize}
spawnChance:              0.25
yOffsetRelative:          -3.5


[movement]
maxTurnSpeed:           1.5
moveAccelerationSpeed:  0.04
moveDecelerationSpeed:  0.12
moveIgnoringBody:       false
movementType:           LAND
moveSlidingMode:        false
moveSpeed:              0.65
reverseSpeedPercentage: 0.75
turnAcceleration:       0.05

