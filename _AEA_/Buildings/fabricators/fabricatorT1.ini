
[core]
borrowResourcesWhileAlive: maxfabs=1
buildSpeed:                0.0006
class:                     CustomUnitMetadata
copyFrom:                  ROOT:/DATA/total/debuffs.template
displayDescription:        - Generates credits 4 times slower than T1 extractors\n- Upgradeable up to T3\n- Upgrades increase credit generation\n- Can only have 40 built at a time. 
displayText:               Fabricator
fireTurretXAtSelfOnDeath:  explode
generation_resources:      credits=2
isBio:                     false
isBuilding:                true
mass:                      9000
maxHp:                     500
name:                      c_fabricatorT1
overrideAndReplace:        fabricator
price:                     1500
radius:                    20
tags:                      building, fabricator
techLevel:                 1

#footprint used for collisions with units (left, up, right, down)
footprint: -1, -1, 1, 1

#used for placement, and placement of other buildings
constructionFootprint: -1, -1, 1, 1


[action_cap]
addResources:              maxfabs=1
displayRemainingStockpile: true
displayType:               infoOnly
isActive:                  false
price:                     maxfabs=1


[hiddenAction_refund]
addResources:        ${core.price}
autoTriggerOnEvent:  created
deleteSelf:          true
requireConditional:  if self.numberOfUnitsInTeam(withTag='fabricator', greaterThan=11110, incompleteBuildings=true) and self.resource(type='maxfabs')<0 
showMessageToPlayer: You Have Built the Maximum Amount of Fabricators You Can Have at the Same Time!


[action_upgradeT2]
buildSpeed:  38.6s
convertTo:   fabricatorT2
description: i:units.fabricator.upgrade.description
displayType: upgrade
iconImage:   SHARED:icon_upgrade.png
price:       3000
text:        i:gui.actions.upgradeT2


[animation_idle]
body_0.4s: {frame:2}
body_0.6s: {frame:0}
body_0.8s: {frame:0}
body_0s:   {frame:2}
body_1.3s: {frame:2}
onActions: idle


[graphics]
image_wreak:  fabricator_dead.png
image:        fabricatorT1.png
total_frames: 3


[attack]
canAttack:                false
canAttackFlyingUnits:     false
canAttackLandUnits:       false
canAttackUnderwaterUnits: false
maxAttackRange:           0


[movement]
maxTurnSpeed:          0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01
movementType:          NONE
moveSpeed:             0
turnAcceleration:      0.1


[turret_explode]
canShoot:   false
projectile: explode
x:          0
y:          0


[projectile_explode]
areaDamage:      350
areaExpandTime:  35
areaRadius:      90
deflectionPower: -1
drawType:        1
frame:           0
friendlyFire:    true
instant:         true
largeHitEffect:  true
life:            99
lightColor:      #FFEEEE00
lightSize:       1
shadowFrame:     1
speed:           1
targetGround:    true


[ai]
#maxGlobal:                           40
ai_upgradePriority:                   0.20
buildPriority:                        0.30
maxEachBase:                          12
noneGlobalExtraPriority:              0.4
noneInBaseExtraPriority:              0.25
recommendedInEachBaseNum:             4
recommendedInEachBasePriorityIfUnmet: 0.9

