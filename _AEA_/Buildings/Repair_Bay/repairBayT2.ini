
[core]
#availableInDemo:            true
autoRepair:                  true
buildingSelectionOffset:     -8
buildSpeed:                  32s
canRepairBuildings:          true
canRepairUnits:              true
class:                       CustomUnitMetadata
copyFrom:                    ROOT:/DATA/total/debuffs.template, ROOT:effects/healing.template
displayDescription:          - Can repair units and buildings\n- Upgradeable
displayRadius:               25
displayText:                 Repair Bay T2
energyMax:                   1
energyNeedsToRechargeToFull: true
energyRegen:                 0.0002
isBio:                       false
isBuilding:                  true
mass:                        9000
maxHp:                       3000
name:                        c_repairBayT2
nanoBuildSpeed:              2.8
nanoRange:                   265
nanoRepairSpeed:             0.85
price:                       5000
radius:                      17
tags:                        building
techLevel:                   1

#footprint used for collisions with units (left, up, right, down)
footprint: -1, -1, 1, 1

#used for placement, and placement of other buildings
constructionFootprint: -1, -1, 1, 1


[canBuild_reclaim]
name: reclaim
pos:  -1


[canBuild_wall]
name: wall
pos:  1


[graphics]
#scaleImagesTo:       20
#scaleTurretImagesTo: 9
image_shadow:         NONE
image_wreak:          repair_bay_dead.png
image:                repair_bay_t2.png
shadowOffsetX:        1
shadowOffsetY:        1
total_frames:         1


[attack]
canAttack:                false
canAttackFlyingUnits:     false
canAttackLandUnits:       false
canAttackUnderwaterUnits: false


# Nano Turret (nano must be slot 1)
[turret_1]
canAttackFlyingUnits:     false
canAttackLandUnits:       false
canAttackUnderwaterUnits: false
canShoot:                 false
invisible:                true
warmup:                   30
x:                        0
y:                        10


# Area Heal Turret
[turret_heal]
#chargeEffectImage:       SHARED:lighting_charge2.png
#onShoot_playAnimation:   
#shoot_flame:             CUSTOM:sparks2*3, CUSTOM:lightSlowFade
#turnSpeedAcceleration:   1.5
canAttackFlyingUnits:     false
canAttackLandUnits:       false
canAttackUnderwaterUnits: false
canShoot:                 true
delay:                    0
invisible:                true
limitingRange:            220
projectile:               3
shoot_flame:              NONE
shoot_sound_vol:          0.5
shoot_sound:              NONE
size:                     0
turnSpeed:                5.0
warmup:                   0
x:                        0
y:                        0


# Healing Burst
[projectile_3]
areaDamage:                  -400
areaExpandTime:              90
areaHitAirAndLandAtSameTime: true
areaRadius:                  220
buildingDamageMultiplier:    0.5
deflectionPower:             -1
explodeEffect:               CUSTOM:areaHeal, CUSTOM:healLights, CUSTOM:healSparks*14, CUSTOM:healBodyLight
explodeOnEndOfLife:          true
friendlyFire:                only-ignoreEnemy
instant:                     false
largeHitEffect:              true
life:                        0
shieldDamageMultiplier:      0
speed:                       0
targetGround:                true


[movement]
maxTurnSpeed:          0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01
movementType:          NONE
moveSpeed:             0
turnAcceleration:      0.1


[ai]
useAsBuilder: true


[action_areaHeal]
addResources:                   setFlag=1
buildSpeed:                     0s
canPlayerCancel:                false
description:                    -Releases 3 healing bursts that repair units for 400HP each\n-Healing depends on distance from the unit\n-Cannot repair shields
displayType:                    action
fireTurretXAtGround_withOffset: 0,0
fireTurretXAtGround:            heal
iconImage:                      ROOT:shared/nanoBurstIcon.png
isActive:                       if not self.hasFlag(id=3)
price:                          energy=1
resetCustomTimer:               true
spawnEffects:                   CUSTOM:powerAura, CUSTOM:powerAura2
text:                           Nano Burst


[action_areaHealMid]
addResources:                   setFlag=2
autoTrigger:                    if self.customTimer(laterThanSeconds=1.5) and not self.hasFlag(id=2) and self.hasFlag(id=1) or self.customTimer(laterThanSeconds=3) and self.customTimer(withinSeconds=3.1) and self.hasFlag(id=2)
buildSpeed:                     0s
canPlayerCancel:                false
description:                    - 
displayType:                    action
fireTurretXAtGround_withOffset: 0,0
fireTurretXAtGround:            heal
isVisible:                      false
price:                          hp=300
text:                           Nano Burst (Second burst)

