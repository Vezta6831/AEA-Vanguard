
[core]
buildingToFootprintOffsetX:   0
buildingToFootprintOffsetY:   7
buildSpeed:                   0.0005
class:                        CustomUnitMetadata
copyFrom:                     ROOT:/DATA/total/debuffs.template
displayDescription:           -Generates credits at a high rate\n- 20% of funds will be deducted if destroyed if on Unlimited mode\n -Fragile\n-Goes nuclear on death
displayText:                  Credit Factory
generation_credits:           35
generation_delay:             40
isBio:                        false
isBuilding:                   true
mass:                         9000
maxHp:                        350
name:                         credit_factory
nukeOnDeath:                  true
nukeOnDeathDamage:            5200
nukeOnDeathDisableWhenNoNuke: false
nukeOnDeathRange:             180
numBitsOnDeath:               25
price:                        27000
radius:                       35
tags:                         building, credfactory
techLevel:                    1

#footprint used for collisions with units (left, up, right, down)
footprint: -2, -1, 1, 2

#used for placement, and placement of other buildings
constructionFootprint: -2, -1, 1, 2


[action_upgradeT2]
buildSpeed:  0.0005
convertTo:   credit_factoryt2
description: - Increase credit generation rate and nuke on death power\n- 33% of funds will be deducted if destroyed!
displayType: upgrade
iconImage:   SHARED:icon_upgrade.png
price:       24000
text:        T2 - Credit Factory


[hiddenAction_goodbyeMoney]
addResourcesWithLogic: credits = -self.resource.credits/5
autoTriggerOnEvent:    destroyed
requireConditional:    if self.globalTeamTags(includes="unlimitedCred")
showMessageToPlayer:   20% of current funding deducted for polluting potential harvesting grounds


[hiddenAction_refund]
addResources:        ${core.price}
autoTriggerOnEvent:  created
deleteSelf:          true
requireConditional:  if numberOfUnitsInTeam(greaterThan=1200, withTag='credfactory', incompleteBuildings=true) and not self.globalTeamTags(includes="unlimitedCred")
showMessageToPlayer: You have built the maximum amount of Credit Factories you can have at the same time.


[hiddenAction_convert]
autoTriggerOnEvent:  destroyed
switchToNeutralTeam: true


[graphics]
#scaleImagesTo:       20
#scaleTurretImagesTo: 9
animation_idle_end:   9
animation_idle_speed: 9
animation_idle_start: 0
image_back:           NONE
image_shadow:         AUTO
image_wreak:          factory_dead.png
image:                factory.png
imageScale:           0.9
shadowOffsetX:        0
shadowOffsetY:        1
total_frames:         10


[attack]
canAttack:                false
canAttackFlyingUnits:     false
canAttackLandUnits:       false
canAttackUnderwaterUnits: false
maxAttackRange:           320


[movement]
maxTurnSpeed:          0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01
movementType:          NONE
moveSpeed:             0
turnAcceleration:      0.1


[ai]
buildPriority:           0.2
maxEachBase:             1
noneGlobalExtraPriority: 0.1
noneInBaseExtraPriority: 0.1

