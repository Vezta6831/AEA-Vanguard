
[core]
#availableInDemo:         true
#displayLocaleKey:        NukeLaucher
#displayRadius:           25
#overrideAndReplace:      NukeLaucher
buildSpeed:               0.0001
class:                    CustomUnitMetadata
displayDescription:       - Nuclear missiles can only be intercepted by Anti-Nuke missiles\n- Can store up to 900 nuclear missiles at once\n- Infinite range\n- Maximum 36 Nuke Launcher per player
displayText:              Nuke Launcher
exit_x:                   0
exit_y:                   -1
isBio:                    false
isBuilding:               true
isLockedIfGameModeNoNuke: true
mass:                     9000
maxHp:                    4000
name:                     nukeLauncherAEA
price:                    100000, uranium=5000
radius:                   35
tags:                     nuker
techLevel:                1

#footprint used for collisions with units (left, up, right, down)
footprint: -1, -1, 1, 1

#used for placement, and placement of other buildings
constructionFootprint: -2, -1, 2, 2


[hiddenAction_created]
autoTriggerOnEvent:      completeAndActive
playSoundGlobally:       ROOT:data\soundFx\nukeBuilt.ogg:2
showMessageToAllPlayers: %{self.playerName} has built a Nuke Launcher! Destroy Them! 


[action_buildNuke]
addResources: ammo=1
aiUse:        launchAmmo
buildSpeed:   83.3s
description:  i:gui.actions.buildNuke.description
displayType:  NONE
iconImage:    SHARED:icon_build.png
isActive:if   self.ammoIncludingQueued(lessThan=900)
pos:          0.2
price:        30000, uranium=2000
text:         i:gui.actions.buildNuke


[decal_targetGuide]
@define               area_guide_radius: 50
@define               area_guide_size: 100
@define               lowDamageBorder: 30
alpha:                0.4
alwaysStartDirAtZero: true
color:                #960d06
image:                SHARED:area_guide.png
imageScale:           ${ projectile_nukeProjectile.areaRadius - lowDamageBorder }/${area_guide_radius}
layer:                inactive
teamColors:           false


[action_launchNuke]
#isAlsoViewableByEnemies:            true
aiUse:                               launch
buildSpeed:                          3.5s
description:                         i:gui.actions.launchNuke.description
displayRemainingStockpile:           true
displayType:                         action
fireTurretXAtGround_showGuideDecals: targetGuide
fireTurretXAtGround:                 siloTop
highPriorityQueue:                   true
iconImage:                           SHARED:icon_attack_point.png
onlyOneUnitAtATime:                  true
playSoundGlobally:                   ROOT:data\soundFx\nukeLaunch.ogg:2
pos:                                 0.1
price:                               ammo=1
text:                                i:gui.actions.launchNuke
whenBuilding_playAnimation:          fireNuke


[graphics]
#scaleImagesTo:       20
#scaleTurretImagesTo: 9
drawLayer:            bottom
image_back:           nuke_launcher_back.png
image_shadow:         NONE
image_wreak:          nuke_launcher_dead.png
image:                nuke_launcher_front.png
shadowOffsetX:        1
shadowOffsetY:        1
total_frames:         1


[attack]
canAttack:                false
canAttackFlyingUnits:     false
canAttackLandUnits:       true
canAttackUnderwaterUnits: false
maxAttackRange:           9999


[movement]
maxTurnSpeed:          0
moveAccelerationSpeed: 0.01
moveDecelerationSpeed: 0.01
movementType:          NONE
moveSpeed:             0
turnAcceleration:      0.1


# Nuke Turret
[turret_siloTop]
#custom:                            nukeLaunch_smoke*6
#shoot_flame:                       shockwave
canShoot:                           false
idleDir:                            0
invisible:                          true
limitingMinRange:                   260
projectile:                         nukeProjectile
shoot_flame:custom:nukeLaunch_wave, custom:nukeLaunch_light
shoot_light:                        #FFEECCCC
shoot_sound_vol:                    0.27
shoot_sound:                        nuke_launch
size:                               1
turnSpeed:                          40
x:                                  0
y:                                  -5


[projectile_nukeProjectile]
#hullDamageMultiplier:       1
#hullDamageMultiplier:0      for EMP version
#trailEffect:                true
alwaysVisibleInFog:          true
areaDamage:                  10000
areaExpandTime:              95
areaHitAirAndLandAtSameTime: true
areaHitUnderwaterAlways:     true
areaRadius:                  600
ballistic_delaymove_height:  80
ballistic_height:            110
ballistic:                   true
buildingDamageMultiplier:    2
deflectionPower:             -1
directDamage:                123
drawType:                    1
frame:                       0
friendlyFire:                true
largeHitEffect:              true
life:                        99999
lightColor:                  #FFEEEE00
lightSize:                   1
nukeWeapon:                  true
shadowFrame:                 1
shieldDamageMultiplier:      2
shieldDefectionMultiplier:   0
shouldRevealFog:             true
speed:                       0.1
tags:                        nuke
targetGround:                true
targetSpeed:                 2.7
targetSpeedAcceleration:     0.02
trailEffect:                 CUSTOM:projectileTrail
trailEffectRate:             4


[effect_projectileTrail]
#ySpeedRelative:-1
alpha:                0.6
atmospheric:          true
attachedToUnit:       false
color:                #FFFFFF
dirOffsetRandom:      180
drawUnderUnits:       false
fadeInTime:           5
fadeOut:              true
frameIndex:           0
life:                 120
scaleFrom:            0.5
scaleTo:              3.5
shadow:               true
stripIndex:           effects
xSpeedAbsoluteRandom: 0.2
ySpeedAbsoluteRandom: 0.2


[effect_nukeLaunch_wave]
life:       50
priority:   high
scaleFrom:  0.5
scaleTo:    2.5
stripIndex: shockwave


[effect_nukeLaunch_smoke]
#color:                #fdc14d
alpha:                 0.9
atmospheric:           true
attachedToUnit:        false
color:                 #FFEEEE00
dirOffsetRandom:       180
drawUnderUnits:        false
fadeInTime:            5
fadeOut:               true
frameIndex:            0
hSpeed:                0.4
life:                  90
liveAfterAttachedDies: false
priority:              high
scaleFrom:             0.3
scaleTo:               0.8
spawnChance:           0.3
stripIndex:            smoke_black
xOffsetAbsoluteRandom: 10
xSpeedAbsoluteRandom:  0.9
yOffsetAbsoluteRandom: 10
ySpeedAbsoluteRandom:  0.9


[effect_nukeLaunch_light]
alpha:          0.7
attachedToUnit: true
color:          #FFFFFF
drawUnderUnits: false
fadeOut:        true
image:          SHARED:light_50.png
life:           40
scaleFrom:      1.7
scaleTo:        1.7


# Tank Nuke
[projectile_randomTankNuke]
ballistic_delaymove_height: 80
ballistic_height:           110
ballistic:                  true
deflectionPower:            -1
directDamage:               123
drawType:                   1
frame:                      0
largeHitEffect:             true
life:                       99999
lightColor:                 #FFEEEE00
lightSize:                  1
shadowFrame:                1
spawnUnit:                  tank
speed:                      0.1
targetGround:               true
targetSpeed:                2.7
targetSpeedAcceleration:    0.02
trailEffect:                true


[arm_1]
image_end: nuke_launcher_door_r.png
x:         3
y:         -1


[arm_2]
image_end: nuke_launcher_door_l.png
x:         -5
y:         9


[animation_fireNuke]
arm1_0:   {x:10, y:-8}
arm2_0:   {x:-9, y:5}
blendIn:  2s
blendOut: 2.5s


[ai]
ai_upgradePriority:      0.2
aiTags:                  nukeLauncher, launcher
buildPriority:           0.01
maxEachBase:             0
noneGlobalExtraPriority: 0.1
noneInBaseExtraPriority: 0.04

